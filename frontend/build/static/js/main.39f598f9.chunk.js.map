{"version":3,"sources":["helpers/auth.js","helpers/roles.js","assets/navBrand.png","components/Navegacion/Navegacion.js","helpers/alert.js","components/Acceso/RecuperarClave.js","components/Acceso/Acceso.js","assets/sanjose.jpg","components/Inicio/Inicio.js","components/Consejos/BuscadorConsejos.js","helpers/dates.js","components/Consejos/Consejos.js","components/Consejos/Convocados.js","assets/loading.gif","helpers/Loading.js","helpers/DefaultComponent.js","assets/tec.png","components/Consejos/SolicitudAgendaConvocado.js","components/Consejos/Consejo.js","components/Consejos/RegistroConsejos.js","components/Consejos/Convocar.js","components/Consejos/VisualizarConsejos.js","components/Consejos/VisualizarConsejosUsuario.js","components/Consejos/SolicitudAgenda.js","components/Consejos/AgendaOficial.js","components/Consejos/EditarConsejo.js","components/Consejos/ConsejoVotacion.js","components/Usuarios/InvitarUsuario.js","components/Usuarios/ListaUsuarios.js","components/Usuarios/Registro.js","components/Usuarios/NuevaClave.js","components/Usuarios/Usuario.js","components/Cuenta/AdministrarCorreo.js","components/Cuenta/CambioClave.js","components/Cuenta/Cuenta.js","helpers/Role.js","helpers/ProtectedRoute.js","App.js","index.js"],"names":["this","info","cedula","nombre","apellido","segundo_apellido","enSistema","localStorage","removeItem","cleanInfo","roles","cleanRoles","a","store","JSON","parse","getItem","token","header","headers","authorization","axios","post","res","data","success","user","setInfo","i","length","id_permiso","auth","getInfo","get","setRoles","console","log","Navegacion","props","state","autenticado","gestUsuario","gestConsejo","logOut","bind","userRoles","getRoles","setState","role","className","to","src","navBrand","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","activeClassName","exact","onClick","verifyToken","aria-haspopup","Component","myAlert","title","text","icon","swal","button","RecuperarClave","handleInputChange","handleSubmit","React","createRef","e","preventDefault","then","current","setAttribute","style","cursor","correos","emails","resp","$","modal","removeAttribute","catch","err","value","target","name","Number","on","focus","data-dismiss","onSubmit","required","maxLength","placeholder","autoComplete","onChange","ref","Acceso","clave","redirect","checkRoles","usuario","setItem","stringify","autoFocus","Inicio","sanjose","BuscadorConsejos","consecutivo","encontrado","ruta","admin","getTodaysDate","today","Date","dd","String","getDate","padStart","mm","getMonth","getFullYear","Consejos","consejos","anteriores","getCouncilsFromDB","councils","consejo","institucion","carrera","campus","nombre_consejo","lugar","fecha","hora","id_tipo_sesion","push","color","getCouncils","getPreviousCouncils","Convocados","docentes","administrativo","estudiantes","convocados","convocado","id_tipo_convocado","attendants","getTeachers","getAdmin","getStudents","Loading","height","loading","opacity","DefaultComponent","isLoading","SolicitudAgendaConvocado","solicitudes","punto","orden","deleteRequest","getRequestsFromBD","discussions","id_tipo_punto","id_estado_punto","asunto","requests","solicitud","id_punto","delete","getRequests","match","params","aprobados","isCouncilModifier","council","date","limite_solicitud","getDiscussions","RegistroConsejos","hoy","tipoSesion","tipoPunto","sesionSeleccionada","puntoSeleccionado","ordenar","puntos","addDiscussion","deleteDiscussion","sort","up","down","councilTypes","discussionTypes","parseInt","history","splice","formatoPuntos","descripcion","checked","htmlFor","getCouncilTypes","min","max","step","getDiscussionTypes","Convocar","usuarios","Map","convocadosAnteriormente","seleccionarTodos","convAntCantidad","usuariosCantidad","convAnt","users","set","j","arrVerdaderos","Array","fill","map","arrFalsos","values","checkSelectAll","prevState","convoque","entries","key","getUsers","VisualizarConsejos","buttons","dangerMode","willDelete","deleteCouncil","councilList","previousCouncilList","VisualizarConsejosUsuario","getAllCouncils","SolicitudAgenda","makeEditable","acceptDiscussion","getRequestsFromDB","editable","response","succes","put","updateParent","width","disableEditable","size","AgendaOficial","handleUpdate","doneSorting","getDiscussionsFromBD","tipo_punto","EditarConsejo","checkedCouncil","abstencion","nuevo","favor","contra","willUpdate","getDiscussion","discussion","saveChanges","escuela","InvitarUsuario","correo","permisos","tipos_convocado","handleOptionChange","handleCheckboxChange","permiso","seleccionado","attendantTypes","checks","tipo_convocado","getPermisos","getTipoConvocado","ListaUsuarios","deleteUser","tableRows","userList","Registro","confirmacion","invalido","registrado","links","updateStatePasswords","respo","taken","respon","minLength","NuevaClave","nueva","actual","autofocus","Usuario","getEmails","getAttendantType","AdministrarCorreo","deleteEmail","email","emailsList","CambioClave","Cuenta","Role","ProtectedRoute","isAuthentic","isUserModifier","path","component","App","ConsejoVotacion","Consejo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.39f598f9.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport roles from './roles';\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.info = {\r\n      cedula: '',\r\n      nombre: '',\r\n      apellido: '',\r\n      segundo_apellido: '',\r\n      enSistema: false\r\n    };\r\n  }\r\n\r\n  setInfo(info) {\r\n    this.info = {\r\n      cedula: info.cedula,\r\n      nombre: info.nombre,\r\n      apellido: info.apellido,\r\n      segundo_apellido: info.segundo_apellido,\r\n      enSistema: true\r\n    };\r\n  }\r\n\r\n  getInfo() {\r\n    return this.info;\r\n  }\r\n\r\n  cleanInfo() {\r\n    this.info = {\r\n      cedula: '',\r\n      nombre: '',\r\n      apellido: '',\r\n      enSistema: false\r\n    };\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return this.info.enSistema;\r\n  }\r\n\r\n  logOut() {\r\n    localStorage.removeItem('il-consigliere');\r\n    this.cleanInfo();\r\n    roles.cleanRoles();\r\n  }\r\n\r\n  async verifyToken() {\r\n    let store = JSON.parse(localStorage.getItem('il-consigliere'));\r\n    if (store) {\r\n      let token = 'Bearer ' + store.token;\r\n      let header = {\r\n        headers: {\r\n          authorization: token\r\n        }\r\n      }\r\n      const res = await axios.post('/usuario/verificar_token', null, header);\r\n      if (res.data.success) {\r\n        const user = res.data.token.user;\r\n        this.setInfo(user);\r\n        return true;\r\n      } else {\r\n        this.cleanInfo();\r\n        return false\r\n      }\r\n    } else {\r\n      this.cleanInfo();\r\n      return false;\r\n    }\r\n  }\r\n}\r\nexport default new Auth();\r\n","import axios from 'axios';\r\nimport auth from './auth';\r\n\r\nclass Roles {\r\n  constructor() {\r\n    this.roles = []\r\n  }\r\n\r\n  getRoles() {\r\n    return this.roles;\r\n  }\r\n\r\n  setRoles(roles) {\r\n    this.roles = roles;\r\n  }\r\n\r\n  cleanRoles() {\r\n    this.roles = [];\r\n  }\r\n\r\n  isUserModifier() {\r\n    for (let i = 0; i < this.roles.length; i++) {\r\n      if (this.roles[i].id_permiso === 1) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isCouncilModifier() {\r\n    for (let i = 0; i < this.roles.length; i++) {\r\n      if (this.roles[i].id_permiso === 2) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async checkRoles() {\r\n    try {\r\n      const user = auth.getInfo();\r\n      if (user.cedula === '') {\r\n        this.roles = [];\r\n      } else {\r\n        const roles = await axios.get(`/usuario/permisos/${user.cedula}`);\r\n        if (roles.data.success) {\r\n          this.setRoles(roles.data.roles);\r\n        } else {\r\n          this.cleanRoles();\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Roles();\r\n","export default __webpack_public_path__ + \"static/media/navBrand.8111f298.png\";","import React, { Component } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport roles from '../../helpers/roles';\r\nimport auth from '../../helpers/auth';\r\nimport navBrand from '../../assets/navBrand.png';\r\nimport './Navegacion.css';\r\n\r\nexport default class Navegacion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      autenticado: false,\r\n      gestUsuario: false,\r\n      gestConsejo: false\r\n    }\r\n    this.logOut = this.logOut.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const userRoles = roles.getRoles();\r\n    const cedula = auth.getInfo().cedula;\r\n    if (cedula !== '') {\r\n      this.setState({\r\n        autenticado: true\r\n      });\r\n      for (let i = 0; i < userRoles.length; i++) {\r\n        let role = userRoles[i];\r\n        if (role.id_permiso === 1) {\r\n          this.setState({\r\n            gestUsuario: true\r\n          });\r\n        }\r\n        if (role.id_permiso === 2) {\r\n          this.setState({\r\n            gestConsejo: true\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  logOut() {\r\n    auth.logOut();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-lg navbar-light mb-4 p-0 navcolor sticky-top\">\r\n        <div className=\"container p-0\">\r\n          <Link className=\"navbar-brand\" to={this.state.autenticado ? '/consejos' : '/'}><img className='logo' src={navBrand} alt=\"logo del TEC\" /></Link>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarColor01\" aria-controls=\"navbarColor01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarColor01\">\r\n            {this.state.autenticado ?\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link text\" activeClassName=\"active\" to=\"/consejos\">Mis Consejos</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link text\" activeClassName=\"active\" exact to=\"/proximosconsejos\" onClick={this.verifyToken}>Prximos Consejos</NavLink>\r\n                </li>\r\n                {this.state.gestUsuario &&\r\n                  <li className=\"nav-item\">\r\n                    <NavLink className=\"nav-link text\" activeClassName=\"active\" to=\"/gUsuarios\">Gestin de Usuarios</NavLink>\r\n                  </li>\r\n                }\r\n                {this.state.gestConsejo &&\r\n                  <li className=\"nav-item dropdown\">\r\n                    <NavLink className=\"nav-link dropdown-toggle text\" data-toggle=\"dropdown\" to=\"/gConsejos\"\r\n                      role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Gestin de Consejos</NavLink>\r\n                    <div className=\"dropdown-menu\">\r\n                      <NavLink className=\"dropdown-item\" activeClassName=\"active\" exact to=\"/gConsejos\">Todos los Consejos</NavLink>\r\n                      <NavLink className=\"dropdown-item\" activeClassName=\"active\" exact to=\"/gConsejos/registro\">Nuevo Consejo</NavLink>\r\n                    </div>\r\n                  </li>\r\n                }\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link text\" activeClassName=\"active\" exact to=\"/cuenta\" onClick={this.verifyToken}>Mi Cuenta</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link text\" activeClassName=\"active\" exact to=\"/\" onClick={this.logOut}>Salir</NavLink>\r\n                </li>\r\n              </ul>\r\n              :\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link text\" activeClassName=\"active\" exact to=\"/\">Inicio</NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <NavLink className=\"nav-link text\" activeClassName=\"active\" to=\"/acceso\">Acceso</NavLink>\r\n                </li>\r\n              </ul>\r\n            }\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import swal from 'sweetalert';\r\n\r\nexport const myAlert = (title, text, icon) => {\r\n  swal({\r\n    title: title,\r\n    text: text,\r\n    icon: icon,\r\n    button: \"Ok\"\r\n  });\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport $ from 'jquery';\r\nimport 'bootstrap';\r\n\r\nexport default class RecuperarClave extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      cedula: 0,\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.button = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      cedula: ''\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    axios.get(`/correo/${this.state.cedula}`)\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          this.button.current.setAttribute('disabled', 'disabled');\r\n          this.button.current.style.cursor = 'progress';\r\n          axios.post('/usuario/nueva_clave', { correos: res.data.emails, cedula: this.state.cedula })\r\n            .then(resp => {\r\n              if (resp.data.success) {\r\n                myAlert('xito', 'Se ha enviado el correo solicitando el cambio de contrasea', 'success');\r\n              } else {\r\n                myAlert('Error', 'Ha ocurrido un error inesperado en el servidor.', 'error');\r\n              }\r\n              $('#recuperar').modal('hide');\r\n              this.button.current.removeAttribute('disabled', 'disabled');\r\n              this.button.current.style.cursor = 'default';\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          myAlert('Atencin', 'Usted no tiene correos registrados.', 'warning');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    if ((!Number(value)) && (value !== '')) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    $('#recuperar').on('shown.bs.modal', function () {\r\n      $('#modal-input').focus();\r\n    });\r\n    return (\r\n      <>\r\n        <div className='d-flex justify-content-center mt-2'>\r\n          <button type='button' className=\"my-link\" data-toggle=\"modal\" data-target=\"#recuperar\">\r\n            Olvid mi contrasea\r\n        </button>\r\n        </div>\r\n        <div className=\"modal fade\" id=\"recuperar\" role=\"dialog\">\r\n          <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n            <div className=\"modal-content modal-border\">\r\n              <div className=\"modal-body\">\r\n                <i className=\"fas fa-times fa-lg m-2 ubicar-salida my-icon\" data-dismiss=\"modal\"></i>\r\n                <h4 className=\"modal-title text-center mb-4\">Cambio de Contrasea de Acceso</h4>\r\n                <p>Se enviar un link solicitando un cambio de contrasea a los correos que tenga asociados con su cuenta.</p>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" id='modal-input' required maxLength=\"20\" name=\"cedula\"\r\n                      placeholder=\"Cdula\" autoComplete=\"off\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.cedula} />\r\n                  </div>\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button type=\"submit\" ref={this.button} className=\"btn btn-outline-primary mt-4 my-size\">Enviar Correo</button>\r\n                    <button type=\"button\" className=\"btn btn-outline-secondary my-size mt-4\" data-dismiss=\"modal\">Cancelar</button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport auth from '../../helpers/auth';\r\nimport roles from '../../helpers/roles';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport './Acceso.css';\r\nimport RecuperarClave from './RecuperarClave';\r\n\r\nexport default class Acceso extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cedula: '',\r\n      clave: '',\r\n      redirect: false\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(res => {\r\n        if (res) {\r\n          roles.checkRoles()\r\n            .then(() => {\r\n              this.setState({\r\n                redirect: true\r\n              });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    if ((name === 'cedula') && (!Number(value)) && (value !== '')) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const usuario = {\r\n      cedula: this.state.cedula,\r\n      clave: this.state.clave\r\n    };\r\n    axios.post('/usuario/inicio_sesion', usuario)\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          localStorage.setItem('il-consigliere', JSON.stringify({\r\n            token: res.data.token\r\n          }));\r\n          auth.setInfo(res.data.info);\r\n          roles.checkRoles()\r\n            .then(() => {\r\n              this.setState({\r\n                redirect: true\r\n              });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          myAlert(\"Credenciales Incorrectos\", \"La informacin proporcionada no corresponde a ningn usuario.\", \"error\");\r\n          this.setState({\r\n            clave: ''\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return this.state.redirect ? <Redirect to='/consejos' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0 my-row\">\r\n          <div className=\"col-md-5 m-auto\">\r\n            <div className=\"card border-primary mb-3\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title text-center mb-4\">Il Consigliere</h4>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" required maxLength=\"20\" name=\"cedula\"\r\n                      placeholder=\"Cdula\" autoComplete=\"off\" className=\"form-control\"\r\n                      autoFocus onChange={this.handleInputChange} value={this.state.cedula} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" required maxLength=\"20\" name=\"clave\"\r\n                      placeholder=\"Contrasea\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.clave} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-4\">Accesar</button>\r\n                  </div>\r\n                </form>\r\n                <RecuperarClave cedula={this.state.cedula} />\r\n              </div>\r\n            </div>\r\n            <div className=\"alert alert-dismissible my-border alert-light pb-0\">\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"alert\">&times;</button>\r\n              <p>Recuerde solicitar una invitacin para crear tu cuenta previamente.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/sanjose.46a60ee0.jpg\";","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport auth from '../../helpers/auth';\r\nimport roles from '../../helpers/roles';\r\nimport './Inicio.css';\r\nimport sanjose from '../../assets/sanjose.jpg';\r\n\r\nexport default class Inicio extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirect: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(res => {\r\n        if (res) {\r\n          roles.checkRoles()\r\n            .then(() => {\r\n              this.setState({\r\n                redirect: true\r\n              });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/consejos' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0 my-row\">\r\n          <div className=\"col-sm-12 my-auto\">\r\n            <div className=\"container bounce\">\r\n              <h3 className=\"title text-center\">Consejo de Ingeniera en Computacin<br /> del Campus Tecnolgico Local de San Jos</h3>\r\n              <div className=\"special-div\">\r\n                <img src={sanjose} className=\"rounded img-fluid handler\" alt=\"Escuela de Computacin San Jos\" />\r\n                <p className=\"description\">La Escuela de Ingeniera en Computacin ha creado un slido prestigio como centro de excelencia en la enseanza y en la investigacin aplicada. Ofrece opciones acadmicas en la Sede Central en Cartago ,  y en las Sedes de San Carlos, Alajuela, Limn y San Jos.<br />\r\n                        Su misin es: Contribuir a la sociedad costarricense en la generacin de conocimiento cientfico-tecnolgico en computacin a travs de la docencia, investigacin, extensin y vinculacin externa, basados en principios de excelencia acadmica, pertinencia social, regionalizacin, equidad y formacin integral.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\nimport { myAlert } from '../../helpers/alert';\r\n\r\nexport default class BuscadorConsejos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: '',\r\n      encontrado: false,\r\n      ruta: '',\r\n      redirect: false\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          if (this.props.admin) {\r\n            axios.get(`/consejo/${this.state.consecutivo}`)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.setState({\r\n                    ruta: `/gConsejos/${this.state.consecutivo}`,\r\n                    encontrado: true\r\n                  });\r\n                } else {\r\n                  myAlert('No se encontr el consejo.', `Revisa el nmero de consecutivo, ya que no se encontraron datos de ${this.state.consecutivo}.`, 'warning');\r\n                  this.setState({\r\n                    consecutivo: ''\r\n                  });\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          } else {\r\n            axios.get(`/consejo/convocado/${this.state.consecutivo}/${auth.getInfo().cedula}`)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.setState({\r\n                    ruta: `/consejos/${this.state.consecutivo}`,\r\n                    encontrado: true\r\n                  });\r\n                } else {\r\n                  myAlert('No se encontr el consejo.', `Revisa el nmero de consecutivo, ya que no se encontraron datos de ${this.state.consecutivo}.`, 'warning');\r\n                  this.setState({\r\n                    consecutivo: ''\r\n                  });\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> : this.state.encontrado ? <Redirect to={this.state.ruta} /> :\r\n      <>\r\n        <div className='d-flex justify-content-around align-items-center'>\r\n          <p>Buscs un consejo en especfico?</p>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className='d-flex align-items-center'>\r\n              <div className='form-group'>\r\n                <input type=\"text\" required maxLength=\"10\" name=\"consecutivo\"\r\n                  placeholder=\"Buscar por consecutivo\" autoComplete=\"off\" className=\"form-control\"\r\n                  onChange={this.handleInputChange} value={this.state.consecutivo} />\r\n              </div>\r\n              <div className='form-group'>\r\n                <button className=\"fas fa-search my-icon fa-lg ml-2 my-button\" type=\"submit\" />\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}","export const getTodaysDate = () => {\r\n  let today = new Date();\r\n  const dd = String(today.getDate()).padStart(2, '0');\r\n  const mm = String(today.getMonth() + 1).padStart(2, '0');\r\n  const yyyy = today.getFullYear();\r\n  return yyyy + '-' + mm + '-' + dd;\r\n}\r\n\r\nexport const requestDay = () => {\r\n  let due = new Date();\r\n  due.setDate(due.getDate() + 3)\r\n  const dd = String(due.getDate()).padStart(2, '0');;\r\n  const mm = String(due.getMonth() + 1).padStart(2, '0');;\r\n  const yyyy = due.getFullYear();\r\n  return yyyy + '-' + mm + '-' + dd;\r\n}","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport BuscadorConsejos from './BuscadorConsejos';\r\nimport auth from '../../helpers/auth';\r\nimport { getTodaysDate } from '../../helpers/dates';\r\n\r\nexport default class Consejos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const info = auth.getInfo()\r\n    this.state = {\r\n      cedula: info.cedula,\r\n      nombre: info.nombre,\r\n      apellido: info.apellido,\r\n      segundo_apellido: info.segundo_apellido,\r\n      consejos: [],\r\n      anteriores: [],\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCouncilsFromDB();\r\n  }\r\n\r\n  getCouncilsFromDB() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/consejo/por_usuario/${this.state.cedula}/${getTodaysDate()}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  consejos: res.data.councils\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n          axios.get(`/consejo/anteriores/por_usuario/${this.state.cedula}/${getTodaysDate()}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  anteriores: res.data.councils\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getCouncils() {\r\n    const councils = [];\r\n    for (let i = 0; i < this.state.consejos.length; i++) {\r\n      let consejo = this.state.consejos[i];\r\n      let consecutivo = consejo.consecutivo;\r\n      let institucion = consejo.institucion;\r\n      let carrera = consejo.carrera;\r\n      let campus = consejo.campus;\r\n      let nombre_consejo = consejo.nombre_consejo;\r\n      let lugar = consejo.lugar;\r\n      let fecha = consejo.fecha;\r\n      let hora = consejo.hora;\r\n      let id_tipo_sesion = consejo.id_tipo_sesion;\r\n      councils.push(\r\n        <div className=\"col-md-4 fila-mis-consejos\" key={i}>\r\n          <div className=\"card border-primary mb-3\">\r\n            <div className=\"card-body p-2\">\r\n              <div className='d-flex justify-content-between align-items-center'>\r\n                <p className=\"card-title m-0\">{consecutivo}</p>\r\n                <Link to={`/consejos/${consecutivo}`}><i className=\"far fa-eye fa-lg ml-2\" style={{ color: \"navy\" }}></i></Link>\r\n              </div>\r\n              <p className='m-0'>{institucion}</p>\r\n              <p className='m-0'>{carrera}</p>\r\n              <p className='m-0'>{campus}</p>\r\n              <p className='m-0'>{nombre_consejo}</p>\r\n              <p className='m-0'>Sesin {id_tipo_sesion === 1 ? 'Ordinaria' : id_tipo_sesion === 2 ? 'Extraordinaria' : 'Consulta Formal'} </p>\r\n              <p className='m-0'>Lugar: {lugar}</p>\r\n              <p className='m-0'>Fecha: {fecha}</p>\r\n              <p className='m-0'>Hora: {hora}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return councils;\r\n  }\r\n\r\n  getPreviousCouncils() {\r\n    const councils = [];\r\n    for (let i = 0; i < this.state.anteriores.length; i++) {\r\n      let consejo = this.state.anteriores[i];\r\n      let consecutivo = consejo.consecutivo;\r\n      let institucion = consejo.institucion;\r\n      let carrera = consejo.carrera;\r\n      let campus = consejo.campus;\r\n      let nombre_consejo = consejo.nombre_consejo;\r\n      let lugar = consejo.lugar;\r\n      let fecha = consejo.fecha;\r\n      let hora = consejo.hora;\r\n      let id_tipo_sesion = consejo.id_tipo_sesion;\r\n      councils.push(\r\n        <div className=\"col-md-4 fila-mis-consejos\" key={i}>\r\n          <div className=\"card border-primary mb-3\">\r\n            <div className=\"card-body p-2\">\r\n              <div className='d-flex justify-content-between align-items-center'>\r\n                <p className=\"card-title m-0\">{consecutivo}</p>\r\n                <Link to={`/consejos/${consecutivo}`}><i className=\"far fa-eye fa-lg ml-2\" style={{ color: \"navy\" }}></i></Link>\r\n              </div>\r\n              <p className='m-0'>{institucion}</p>\r\n              <p className='m-0'>{carrera}</p>\r\n              <p className='m-0'>{campus}</p>\r\n              <p className='m-0'>{nombre_consejo}</p>\r\n              <p className='m-0'>Sesin {id_tipo_sesion === 1 ? 'Ordinaria' : id_tipo_sesion === 2 ? 'Extraordinaria' : 'Consulta Formal'} </p>\r\n              <p className='m-0'>Lugar: {lugar}</p>\r\n              <p className='m-0'>Fecha: {fecha}</p>\r\n              <p className='m-0'>Hora: {hora}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return councils;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className='container'>\r\n          <p className='lead mt-2'>Te damos la bienvenida {this.state.nombre} {this.state.apellido} {this.state.segundo_apellido}</p>\r\n          {this.state.consejos.length > 0 ? <p className='text-center lead'>Consejos a los que te han convocado:</p> : <p className='my-muted text-center'>No tienes consejos prximos a asistir.</p>}\r\n        </div>\r\n        <div className=\"row m-0 mt-4\">\r\n          {this.getCouncils()}\r\n        </div>\r\n        <div className='container'>\r\n          {this.state.anteriores.length > 0 && <p className='text-center lead'>Consejos a los que has asistido:</p>}\r\n        </div>\r\n        <div className=\"row m-0 mt-4\">\r\n          {this.getPreviousCouncils()}\r\n        </div>\r\n        {this.state.anteriores.length > 0 &&\r\n          <BuscadorConsejos />\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\n\r\nexport default class Convocados extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: this.props.consecutivo,\r\n      docentes: [],\r\n      administrativo: [],\r\n      estudiantes: [],\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/convocado/nombres_usuario/${this.state.consecutivo}`)\r\n            .then(resp => {\r\n              if (resp.data.success) {\r\n                const docentes = [];\r\n                const estudiantes = [];\r\n                const administrativo = [];\r\n                for (let i = 0; i < resp.data.convocados.length; i++) {\r\n                  let convocado = resp.data.convocados[i];\r\n                  if (convocado.id_tipo_convocado === 1) {\r\n                    docentes.push(convocado);\r\n                  } else if (convocado.id_tipo_convocado === 2) {\r\n                    administrativo.push(convocado);\r\n                  } else if (convocado.id_tipo_convocado === 3) {\r\n                    estudiantes.push(convocado);\r\n                  }\r\n                }\r\n                this.setState({\r\n                  docentes: docentes,\r\n                  administrativo: administrativo,\r\n                  estudiantes: estudiantes\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getTeachers() {\r\n    const attendants = [];\r\n    for (let i = 0; i < this.state.docentes.length; i++) {\r\n      attendants.push(<li className='m-0' key={i}>{this.state.docentes[i].nombre} {this.state.docentes[i].apellido} {this.state.docentes[i].segundo_apellido}</li>);\r\n    }\r\n    return attendants;\r\n  }\r\n\r\n  getAdmin() {\r\n    const attendants = [];\r\n    for (let i = 0; i < this.state.administrativo.length; i++) {\r\n      attendants.push(<li className='m-0' key={i}>{this.state.administrativo[i].nombre} {this.state.administrativo[i].apellido} {this.state.administrativo[i].segundo_apellido}</li>);\r\n    }\r\n    return attendants;\r\n  }\r\n\r\n  getStudents() {\r\n    const attendants = [];\r\n    for (let i = 0; i < this.state.estudiantes.length; i++) {\r\n      attendants.push(<li className='m-0' key={i}>{this.state.estudiantes[i].nombre} {this.state.estudiantes[i].apellido} {this.state.estudiantes[i].segundo_apellido}</li>);\r\n    }\r\n    return attendants;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <p>Personas convocadas al Consejo de Unidad:</p>\r\n        <div className='convocados'>\r\n          {this.state.docentes.length > 0 &&\r\n            <>\r\n              <p className='m-0'>Personal Docente:</p>\r\n              <ol className='pl-4 m-1'>\r\n                {this.getTeachers()}\r\n              </ol>\r\n            </>\r\n          }\r\n          {this.state.administrativo.length > 0 &&\r\n            <>\r\n              <p className='m-0'>Personal administrativo:</p>\r\n              <ol className='pl-4 m-1'>\r\n                {this.getAdmin()}\r\n              </ol>\r\n            </>\r\n          }\r\n          {this.state.estudiantes.length > 0 &&\r\n            <>\r\n              <p className='m-0'>Estudiantes:</p>\r\n              <ol className='pl-4 m-1'>\r\n                {this.getStudents()}\r\n              </ol>\r\n            </>\r\n          }\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loading.4d9ed469.gif\";","import React from 'react';\r\nimport loading from '../assets/loading.gif';\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <div className=\"row m-0\" style={{ height: '90vh' }}>\r\n      <div className=\"col-sm-12 my-auto\">\r\n        <img src={loading} className='img-fluid m-auto d-block' style={{ opacity: 0.6 }} alt='logo' />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react';\r\nimport auth from './auth';\r\nimport roles from './roles';\r\nimport logo from '../assets/tec.png';\r\nimport Navegacion from '../components/Navegacion/Navegacion';\r\nimport { Loading } from './Loading';\r\n\r\nexport default class DefaultComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(() => {\r\n        roles.checkRoles()\r\n          .then(() => {\r\n            this.setState({\r\n              isLoading: false\r\n            });\r\n          })\r\n          .catch((err) => console.log(err));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLoading) {\r\n      return <Loading />;\r\n    } else {\r\n      return (\r\n        <>\r\n          <Navegacion />\r\n          <div className=\"row m-0\" style={{ height: '70vh' }}>\r\n            <div className=\"col-sm-12 my-auto\">\r\n              <h3 className='text-center'>Pgina no encontrada</h3>\r\n              <h1 className='text-center mb-4'>404</h1>\r\n              <img src={logo} className='rounded-circle img-fluid m-auto d-block' style={{ opacity: 0.6 }} alt='logo' />\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","export default \"data:image/png;base64,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6NFuzWz/4pKSUXM2FbwzdO3zaoiDWvtdy9JvFUMuemxm6O3nKq2a1V8xcxjDMOmZOSGh0Wpbj128tX439yI+m34aq8stUnrx8nDbt3qqWCya98v+G/di+abzq4Y4qHVFBD8vRT2hUP+QvZ31ofXfK5/t4OkwzgsBZ67cfe5vjs9MJSbsXxtmUOsPV4BP51bHf50tk0r2nbj+845jfNN1Ug1x1LS14hxXrvcuIFtr7gpNZQLsOWrYKk5unaO6dXb/Ke6FN4qKSwZNWxPO9XNsZio9tP77Bd8ONHwB/0nDeh7d9IOZqfTijftj5m0WagVLQ/9bFUDdFtDU2YFzvMIaOHGfBW1k8NnR1q7OofsWq26Ae/Um4/JN8qLUrJz8nuOWXeW6xV4sFi2c8tWN/UuURy0VYG9nHbTuu8D5Y1hWfPnmgz4TVxp+qKFSDXH082rDOd7U2VHzV0wYgvqH+nm1rfAJUteGTpsWjA0/sLT8+feDp8O0r9GbmZ3Xc+zSXcFXOLe2cWsQtn/JsV9ndevgpvtRuWNNm1WzRsSeXadc/P/g6bDe45cLu6aUiHEZwjdHSKMHdNm57Btq68krdwZOXWN4+yKRaNpI71/m+lMTCouKj164FRP/KiMrT8vafnIzqUwqsbKQm8ok9RxrtGhal3PJHk+/+WGRMZrjmsYM7LZ2rr+WpUvjk1KDQyIuhd+/dT9O87ohczOZW+M6Hu6NfLu369LOVXloX1hU/OO6/at2HBfq1USlKuIwYVk7G8v2LRqO7NeZd82kpwkpa34/cT406mVKutp63rxMWNbJ3tbLo/mEwd3bV3RHra/4pFTnHlN0/8bUrmW7cubwoV905N1JFLwrSs/MycjOLSwqNpNJFRZyezsrtUcpl8mOjnlBPYkhKjeOtXNH6bJsgXaiZn58U5gjgTOr69d4rdh2dM7qvXyz1Lk2dJo1rq+fT8cKL78cevfJim1Hg0Mi+CZWXOXG0fszdw/3xnyzeGj5DT0q1fgLAP84eq3Cv7vD2tJ8wOftenVy7+7RXMfP1O/HJh67eGvv8eu8FywarnLjAB2JxaIm9R1cnGs3qe9Q19HOQi6zspSbsGxJSWlewbuUtMz4l6kPn72MiH6m+atVKg/iAFI1vJWFDwXiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiABLiANL/AfNXMmESrx4AAAAAAElFTkSuQmCC\"","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\n\r\nexport default class SolicitudAgendaConvocado extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: this.props.consecutivo,\r\n      solicitudes: [],\r\n      punto: '',\r\n      cedula: auth.getInfo().cedula,\r\n      orden: 0,\r\n      redirect: false\r\n    }\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.deleteRequest = this.deleteRequest.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRequestsFromBD();\r\n  }\r\n\r\n  getRequestsFromBD() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/punto/solicitud/${this.state.cedula}/${this.state.consecutivo}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  solicitudes: res.data.discussions,\r\n                  orden: res.data.discussions.length\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  solicitudes: []\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    this.setState({\r\n      punto: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.state.punto !== '') {\r\n      auth.verifyToken()\r\n        .then(value => {\r\n          if (value) {\r\n            const info = {\r\n              id_tipo_punto: 2,\r\n              id_estado_punto: 2,\r\n              asunto: this.state.punto,\r\n              cedula: this.state.cedula,\r\n              consecutivo: this.state.consecutivo,\r\n              orden: this.state.orden\r\n            };\r\n            axios.post('/punto', info)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.getRequestsFromBD();\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n            this.setState({\r\n              punto: ''\r\n            })\r\n          } else {\r\n            this.setState({\r\n              redirect: true\r\n            })\r\n            auth.logOut();\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  getRequests() {\r\n    const requests = [];\r\n    for (let i = 0; i < this.state.solicitudes.length; i++) {\r\n      let solicitud = this.state.solicitudes[i];\r\n      requests.push(\r\n        <div className='d-flex justify-content-between align-items-center my-2' key={i}>\r\n          <li className='text-justify'>{solicitud.asunto}</li>\r\n          <button className=\"fas fa-trash-alt my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.deleteRequest(e, solicitud.id_punto)} />\r\n        </div>\r\n      );\r\n    }\r\n    return requests;\r\n  }\r\n\r\n  deleteRequest(e, id_punto) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.delete(`/punto/${id_punto}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.getRequestsFromBD();\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <p className='mt-4'>Solicita puntos de agenda</p>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <div className='d-flex align-items-center'>\r\n              <textarea placeholder='Punto de agenda (opcional)' name='punto' className=\"form-control mr-2\" onChange={this.handleInputChange} value={this.state.punto} />\r\n              <button className=\"fas fa-plus-square my-icon fa-lg my-button\" type=\"submit\" />\r\n            </div>\r\n          </div>\r\n          <div className='solicitud-container'>\r\n            <ol className='pl-4 m-0'>\r\n              {this.getRequests()}\r\n            </ol>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Convocados from './Convocados';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport auth from '../../helpers/auth';\r\nimport DefaultComponent from '../../helpers/DefaultComponent';\r\nimport { Loading } from '../../helpers/Loading';\r\nimport roles from '../../helpers/roles';\r\nimport { getTodaysDate } from '../../helpers/dates';\r\nimport './Consejos.css';\r\nimport SolicitudAgendaConvocado from './SolicitudAgendaConvocado';\r\n\r\nexport default class Consejos extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      consecutivo: this.props.match.params.consecutivo,\r\n      consejo: {},\r\n      aprobados: [],\r\n      isCouncilModifier: roles.isCouncilModifier(),\r\n      cedula: auth.getInfo().cedula,\r\n      encontrado: true,\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/consejo/${this.state.consecutivo}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  isLoading: false,\r\n                  consejo: res.data.council\r\n                });\r\n                axios.get(`/punto/aprobado/${this.state.consecutivo}`)\r\n                  .then(resp => {\r\n                    if (resp.data.success) {\r\n                      this.setState({\r\n                        aprobados: resp.data.discussions\r\n                      });\r\n                    }\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              } else {\r\n                this.setState({\r\n                  isLoading: false,\r\n                  encontrado: false\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getDiscussions() {\r\n    const discussions = [];\r\n    for (let i = 0; i < this.state.aprobados.length; i++) {\r\n      discussions.push(<li className='m-0 text-justify' key={i}>{this.state.aprobados[i].asunto}</li>);\r\n    }\r\n    return discussions;\r\n  }\r\n\r\n  render() {\r\n    const date = getTodaysDate();\r\n    return (this.state.isLoading ? <Loading /> : this.state.redirect ? <Redirect to='/' /> : !this.state.encontrado ? <DefaultComponent /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-md-10 m-auto\">\r\n            <div className=\"card border-primary consejo-card\">\r\n              <div className=\"card-body\">\r\n                <Link to='/consejos'><i className=\"fas fa-times fa-lg m-2 ubicar-salida\" style={{ color: 'navy' }}></i></Link>\r\n                <div className='todo-registro'>\r\n                  <div className='registro-container izq'>\r\n                    <p className=\"card-title text-center text-uppercase m-0\">{this.state.consejo.institucion}</p>\r\n                    <p className='text-uppercase text-center m-0'>{this.state.consejo.carrera}</p>\r\n                    <p className='text-uppercase text-center m-0'>{this.state.consejo.campus}</p>\r\n                    <p className='text-uppercase text-center m-0'>Convocatoria</p>\r\n                    <p className='text-uppercase text-center m-0'>Sesin {this.state.consejo.id_tipo_sesion === 1 ? 'Ordinaria' : 'Extraordinaria'} {this.state.consecutivo}</p>\r\n                    <p className='text-uppercase text-center m-0'>{this.state.consejo.nombre_consejo}</p>\r\n                    <p className='text-center m-0'>FECHA: {this.state.consejo.fecha}</p>\r\n                    <p className='text-center m-0'>HORA: {this.state.consejo.hora}</p>\r\n                    <p className='text-center m-0'>LUGAR: {this.state.consejo.lugar}</p>\r\n                    <hr />\r\n                    <Convocados consecutivo={this.state.consecutivo} />\r\n                  </div>\r\n                  <div className='registro-container der'>\r\n                    <p>Puntos de Agenda:</p>\r\n                    <div className={this.state.isCouncilModifier ? 'punto-nonspace' : this.state.consejo.fecha < date ? 'punto-nonspace' : this.state.consejo.limite_solicitud < date ? 'punto-nonspace' : 'punto-consejo'}>\r\n                      <ol className='pl-4 m-0'>\r\n                        {this.getDiscussions()}\r\n                      </ol>\r\n                    </div>\r\n                    {!this.state.isCouncilModifier && this.state.consejo.fecha >= date && this.state.consejo.limite_solicitud >= date &&\r\n                      <SolicitudAgendaConvocado consecutivo={this.state.consecutivo} />\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport { getTodaysDate } from '../../helpers/dates';\r\nimport './Consejos.css';\r\n\r\nexport default class RegistroConsejos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: '',\r\n      lugar: '',\r\n      fecha: '',\r\n      hora: '',\r\n      limite_solicitud: '',\r\n      hoy: getTodaysDate(),\r\n      tipoSesion: [],\r\n      tipoPunto: [],\r\n      sesionSeleccionada: 1,\r\n      puntoSeleccionado: 1,\r\n      ordenar: false,\r\n      punto: '',\r\n      puntos: [],\r\n      redirect: false\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.addDiscussion = this.addDiscussion.bind(this);\r\n    this.deleteDiscussion = this.deleteDiscussion.bind(this);\r\n    this.sort = this.sort.bind(this);\r\n    this.up = this.up.bind(this);\r\n    this.down = this.down.bind(this);\r\n    this.button = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get('/tipo_consejo')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  tipoSesion: res.data.councilTypes\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n          axios.get('/tipo_punto')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  tipoPunto: res.data.discussionTypes\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  addDiscussion(e) {\r\n    e.preventDefault();\r\n    if (this.state.punto !== '') {\r\n      let puntos = this.state.puntos;\r\n      puntos.push({ asunto: this.state.punto, id_tipo_punto: parseInt(this.state.puntoSeleccionado) });\r\n      this.setState({\r\n        punto: '',\r\n        puntos: puntos\r\n      });\r\n    }\r\n  }\r\n\r\n  sort(e) {\r\n    e.preventDefault();\r\n    if (!this.state.ordenar) {\r\n      this.button.current.setAttribute('disabled', 'disabled');\r\n      this.button.current.style.color = 'grey';\r\n    } else {\r\n      this.button.current.removeAttribute('disabled', 'disabled');\r\n      this.button.current.style.color = 'navy';\r\n    }\r\n    this.setState({\r\n      ordenar: !this.state.ordenar\r\n    });\r\n  }\r\n\r\n  up(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.puntos;\r\n    [puntos[i - 1], puntos[i]] = [puntos[i], puntos[i - 1]];\r\n    this.setState({\r\n      puntos: puntos\r\n    });\r\n  }\r\n\r\n  down(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.puntos;\r\n    [puntos[i + 1], puntos[i]] = [puntos[i], puntos[i + 1]];\r\n    this.setState({\r\n      puntos: puntos\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/consejo/${this.state.consecutivo}`)\r\n            .then(resp => {\r\n              if (resp.data.success) {\r\n                myAlert('Atencin', `El nmero de consecutivo: ${this.state.consecutivo} ya existe en el sistema.`, 'warning');\r\n              } else {\r\n                if(this.state.fecha <= this.state.limite_solicitud){\r\n                  myAlert('Atencin', `La fecha limite de solicitudes no puede ser posterior o igual a la fecha de realizacin consejo.`, 'warning');\r\n                } else {\r\n                  const consejo = {\r\n                    consecutivo: this.state.consecutivo,\r\n                    lugar: this.state.lugar,\r\n                    fecha: this.state.fecha,\r\n                    hora: this.state.hora,\r\n                    limite_solicitud: this.state.limite_solicitud,\r\n                    id_tipo_sesion: this.state.sesionSeleccionada,\r\n                    puntos: this.state.puntos,\r\n                    cedula: auth.getInfo().cedula,\r\n                    id_estado_punto: 1\r\n                  };\r\n                  axios.post('/consejo', consejo)\r\n                    .then(res => {\r\n                      if (res.data.success) {\r\n                        this.props.history.push('/gConsejos');\r\n                      } else {\r\n                        myAlert('Oh no!', 'Error interno del servidor.', 'error');\r\n                      }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                }\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  deleteDiscussion(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.puntos;\r\n    puntos.splice(i, 1);\r\n    this.setState({\r\n      puntos: puntos\r\n    });\r\n  }\r\n\r\n  getDiscussions() {\r\n    let formatoPuntos = [];\r\n    if (this.state.puntos.length === 0) {\r\n      return <p className='my-muted'>No se han agregado puntos de agenda</p>;\r\n    }\r\n    for (let i = 0; i < this.state.puntos.length; i++) {\r\n      formatoPuntos.push(\r\n        <div className='d-flex justify-content-between align-items-center my-2' key={i}>\r\n          <div>\r\n            <p className='m-0 text-justify'>{(i + 1) + '. ' + this.state.puntos[i].asunto}</p>\r\n            {this.state.puntos[i].id_tipo_punto === 1 && <p className='my-muted m-0 text-justify'>*Este punto es votativo</p>}\r\n          </div>\r\n          {this.state.ordenar ?\r\n            <div className='d-flex'>\r\n              {i !== 0 && <button className=\"far fa-caret-square-up my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.up(e, i)} />}\r\n              {i !== (this.state.puntos.length - 1) && <button className=\"far fa-caret-square-down my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.down(e, i)} />}\r\n            </div>\r\n            :\r\n            <button className=\"fas fa-trash-alt my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.deleteDiscussion(e, i)} />\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n    return formatoPuntos;\r\n  }\r\n\r\n  getCouncilTypes() {\r\n    const info = [];\r\n    for (let i = 0; i < this.state.tipoSesion.length; i++) {\r\n      let tipoSesion = this.state.tipoSesion[i];\r\n      info.push(\r\n        <div className=\"custom-control custom-radio\" key={i}>\r\n          <input type=\"radio\" id={tipoSesion.descripcion} name=\"sesionSeleccionada\" value={tipoSesion.id_tipo_sesion} onChange={this.handleInputChange}\r\n            checked={parseInt(this.state.sesionSeleccionada, 10) === tipoSesion.id_tipo_sesion} className=\"custom-control-input\" />\r\n          <label className=\"custom-control-label\" htmlFor={tipoSesion.descripcion}>\r\n            {tipoSesion.descripcion}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    return info;\r\n  }\r\n\r\n  getDiscussionTypes() {\r\n    const info = [];\r\n    for (let i = 0; i < this.state.tipoPunto.length; i++) {\r\n      let tipoPunto = this.state.tipoPunto[i];\r\n      info.push(\r\n        <div className=\"custom-control custom-radio mx-auto\" key={i}>\r\n          <input type=\"radio\" id={tipoPunto.descripcion} name=\"puntoSeleccionado\" value={tipoPunto.id_tipo_punto} onChange={this.handleInputChange}\r\n            checked={parseInt(this.state.puntoSeleccionado, 10) === tipoPunto.id_tipo_punto} className=\"custom-control-input\" />\r\n          <label className=\"custom-control-label\" htmlFor={tipoPunto.descripcion}>\r\n            {tipoPunto.descripcion}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    return info;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-md-10 m-auto\">\r\n            <div className=\"card border-primary consejo-card\">\r\n              <div className=\"card-body\">\r\n                <Link to='/gConsejos'><i className=\"fas fa-times fa-lg m-2 ubicar-salida\" style={{ color: 'navy' }}></i></Link>\r\n                <h3 className=\"card-title text-center mb-4\">Nuevo Consejo</h3>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className='todo-registro'>\r\n                    <div className='registro-container izq'>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"text\" required maxLength=\"10\" name=\"consecutivo\"\r\n                          placeholder=\"Consecutivo\" autoComplete=\"off\" className=\"form-control\"\r\n                          autoFocus onChange={this.handleInputChange} value={this.state.consecutivo} />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"text\" required maxLength=\"100\" name=\"lugar\"\r\n                          placeholder=\"Lugar\" autoComplete=\"off\" className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.lugar} />\r\n                      </div>\r\n                      <p className='lead'>Seleccione el tipo de sesin:</p>\r\n                      <div className=\"form-group\">\r\n                        {this.getCouncilTypes()}\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"date\" required name=\"fecha\" min={this.state.hoy} className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.fecha} />\r\n                        <p className=\"my-muted\">*Fecha en la que se llevar a cabo el consejo.</p>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"time\" required name=\"hora\" min='07:00' max='20:00' step='900' className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.hora} />\r\n                        <p className='my-muted'>*Hora en la que se llevar a cabo el consejo.</p>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"date\" required name=\"limite_solicitud\" min={this.state.hoy} className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.limite_solicitud} />\r\n                        <p className=\"my-muted\">*Fecha lmite para el envo de sugerencias de puntos de consejo.</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className='registro-container der'>\r\n                      <p className='text-center m-0'>\r\n                        Puntos de Agenda Iniciales\r\n                      </p>\r\n                      <div className=\"form-group\">\r\n                        <div className='d-flex align-items-center'>\r\n                          <textarea placeholder='Punto de agenda (opcional)' name='punto' className=\"form-control mr-2\" onChange={this.handleInputChange} value={this.state.punto} />\r\n                          <button className=\"fas fa-plus-square my-icon fa-lg my-button\" type=\"button\" onClick={this.addDiscussion} ref={this.button} />\r\n                        </div>\r\n                        <div className=\"form-group d-flex align-items-center\">\r\n                          {this.getDiscussionTypes()}\r\n                        </div>\r\n                        <div className='punto-nuevo mt-2'>\r\n                          {this.getDiscussions()}\r\n                        </div>\r\n                        {this.state.puntos.length > 1 &&\r\n                          <div className='d-flex align-items-center justify-content-end'>\r\n                            {this.state.ordenar ?\r\n                              <>\r\n                                <p className='m-0 mr-2'>Aplicar Orden</p>\r\n                                <button className=\"far fa-check-circle my-icon fa-lg my-button\" type=\"button\" onClick={this.sort} />\r\n                              </>\r\n                              :\r\n                              <>\r\n                                <p className='m-0 mr-2'>Ordenar</p>\r\n                                <button className=\"fas fa-sort my-icon fa-lg my-button\" type=\"button\" onClick={this.sort} />\r\n                              </>\r\n                            }\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button type=\"submit\" className=\"btn btn-outline-primary mt-4 editar-button\">Crear Consejo</button>\r\n                    <Link className=\"btn btn-outline-secondary mt-4 editar-button\" to='/gConsejos'>Cancelar</Link>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport { Link } from 'react-router-dom';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport auth from '../../helpers/auth';\r\nimport './Consejos.css';\r\n\r\nexport default class Convocar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: this.props.match.params.consecutivo,\r\n      usuarios: [],\r\n      convocados: new Map(),\r\n      convocadosAnteriormente: [],\r\n      seleccionarTodos: false,\r\n      redirect: false\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.button = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          let convAntCantidad = 0;\r\n          let usuariosCantidad = 0;\r\n          let convAnt = [];\r\n          let usuarios = [];\r\n          axios.get('/usuario')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  usuarios: res.data.users\r\n                });\r\n                usuariosCantidad = res.data.users.length;\r\n                usuarios = res.data.users;\r\n                let convocados = new Map();\r\n                for (let i = 0; i < usuariosCantidad; i++) {\r\n                  convocados.set(usuarios[i].cedula, false);\r\n                }\r\n                axios.get(`/convocado/por_consejo/${this.state.consecutivo}`)\r\n                  .then(res => {\r\n                    if (res.data.success) {\r\n                      this.setState({\r\n                        convocadosAnteriormente: res.data.convocados\r\n                      });\r\n                      convAntCantidad = res.data.convocados.length;\r\n                      convAnt = res.data.convocados;\r\n                      if (convAntCantidad === usuariosCantidad) {\r\n                        this.setState({\r\n                          seleccionarTodos: true\r\n                        });\r\n                      }\r\n                      for (let i = 0; i < usuariosCantidad; i++) {\r\n                        for (let j = 0; j < convAntCantidad; j++) {\r\n                          if (usuarios[i].cedula === convAnt[j].cedula) {\r\n                            convocados.set(usuarios[i].cedula, true);\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                    this.setState({\r\n                      convocados: convocados\r\n                    });\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    const name = e.target.name;\r\n    const value = e.target.checked;\r\n    if (name === 'seleccionarTodos') {\r\n      this.setState({\r\n        seleccionarTodos: value\r\n      });\r\n      let convocados = new Map();\r\n      if (value) {\r\n        let arrVerdaderos = Array(this.state.usuarios.length).fill(true);\r\n        this.state.usuarios.map((e, i) => {\r\n          return convocados.set(e.cedula, arrVerdaderos[i]);\r\n        });\r\n      } else {\r\n        let arrFalsos = Array(this.state.usuarios.length).fill(false);\r\n        this.state.usuarios.map((e, i) => {\r\n          return convocados.set(e.cedula, arrFalsos[i]);\r\n        });\r\n      }\r\n      this.setState({\r\n        convocados: convocados\r\n      });\r\n    } else {\r\n      let convocados = this.state.convocados;\r\n      let values = convocados.set(name, value).values();\r\n      this.checkSelectAll(values);\r\n      this.setState(prevState => ({ convocados: prevState.convocados.set(name, value) }));\r\n    }\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(async value => {\r\n        if (value) {\r\n          try {\r\n            const convocados = this.state.convocados;\r\n            const convoque = [];\r\n            for (let i = 0; i < this.state.convocadosAnteriormente.length; i++) {\r\n              if (convocados.get(this.state.convocadosAnteriormente[i].cedula)) {\r\n                convocados.delete(this.state.convocadosAnteriormente[i].cedula);\r\n              } else {\r\n                await axios.delete(`/convocado/por_usuario/${this.state.consecutivo}/${this.state.convocadosAnteriormente[i].cedula}`);\r\n              }\r\n            }\r\n            for (let [key, value] of convocados.entries()) {\r\n              if (value) {\r\n                convoque.push(key);\r\n              }\r\n            }\r\n            if (convoque.length > 0) {\r\n              this.button.current.setAttribute('disabled', 'disabled');\r\n              this.button.current.style.cursor = 'progress';\r\n              const res = await axios.post('/convocado', { convocados: convoque, consecutivo: this.state.consecutivo});\r\n              if (res.data.success) {\r\n                this.button.current.removeAttribute('disabled', 'disabled');\r\n                this.button.current.style.cursor = 'default';\r\n                myAlert('xito', 'Se han convocado todos los usuarios que se escogieron.', 'success');\r\n                this.props.history.push('/gConsejos');\r\n              } else {\r\n                myAlert('Oh no', 'Ha ocurrido un error en el sistema.', 'error');\r\n              }\r\n            } else {\r\n              myAlert('xito', 'Se han convocado todos los usuarios que se escogieron.', 'success');\r\n              this.props.history.push('/gConsejos');\r\n            }\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  checkSelectAll(values) {\r\n    for (let value of values) {\r\n      if (!value) {\r\n        if (this.state.seleccionarTodos) {\r\n          this.setState({\r\n            seleccionarTodos: false\r\n          });\r\n        }\r\n        return;\r\n      }\r\n    }\r\n    if (!this.state.seleccionarTodos) {\r\n      this.setState({\r\n        seleccionarTodos: true\r\n      });\r\n    }\r\n    return;\r\n  }\r\n\r\n  getUsers() {\r\n    const users = [];\r\n    for (let i = 0; i < this.state.usuarios.length; i++) {\r\n      let usuario = this.state.usuarios[i];\r\n      users.push(\r\n        <div className=\"custom-control custom-checkbox\" key={i}>\r\n          <input type=\"checkbox\" className=\"custom-control-input\" id={usuario.cedula} name={usuario.cedula}\r\n            checked={!!this.state.convocados.get(usuario.cedula)} onChange={this.handleInputChange} />\r\n          <label className=\"custom-control-label\" htmlFor={usuario.cedula}>{usuario.nombre} {usuario.apellido} {usuario.segundo_apellido}</label>\r\n        </div>\r\n      );\r\n    }\r\n    return users;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0\" style={{ height: '80vh' }}>\r\n          <div className=\"col-md-6 m-auto\">\r\n            <div className=\"card border-primary mb-3\">\r\n              <div className=\"card-body\">\r\n                <Link to='/gConsejos'><i className=\"fas fa-times fa-lg m-2 ubicar-salida\" style={{ color: 'navy' }}></i></Link>\r\n                <h4 className=\"card-title text-center mb-4\">Administrar participantes</h4>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className='form-group convocado-div'>\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                      <input type=\"checkbox\" className=\"custom-control-input\" id='default' name=\"seleccionarTodos\"\r\n                        checked={this.state.seleccionarTodos} onChange={this.handleInputChange} />\r\n                      <label className=\"custom-control-label\" htmlFor='default'>Seleccionar todos los usuarios</label>\r\n                      <hr />\r\n                    </div>\r\n                    {this.getUsers()}\r\n                  </div>\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button ref={this.button} type=\"submit\" className=\"btn btn-outline-primary mt-4 convocar-button\">Aceptar</button>\r\n                    <Link className=\"btn btn-outline-secondary mt-4 convocar-button\" to='/gConsejos'>Descartar</Link>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport BuscadorConsejos from './BuscadorConsejos';\r\nimport auth from '../../helpers/auth';\r\n\r\nexport default class VisualizarConsejos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consejos: [],\r\n      anteriores: [],\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCouncils();\r\n  }\r\n\r\n  deleteCouncil(e, consecutivo) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          swal({\r\n            title: \"Confirmacin\",\r\n            text: `Se eliminar toda la informacin del consejo ${consecutivo}`,\r\n            icon: \"warning\",\r\n            buttons: [\"Cancelar\", \"Confirmar\"],\r\n            dangerMode: true,\r\n          })\r\n            .then((willDelete) => {\r\n              if (willDelete) {\r\n                axios.delete(`/punto/por_consejo/${consecutivo}`)\r\n                  .then(() => {\r\n                    axios.delete(`/convocado/por_consejo/${consecutivo}`)\r\n                      .then(() => {\r\n                        axios.delete(`/consejo/${consecutivo}`)\r\n                          .then(() => {\r\n                            this.getCouncils();\r\n                          })\r\n                          .catch((err) => console.log(err));\r\n                      })\r\n                      .catch((err) => console.log(err));\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              }\r\n            });\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getCouncils() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get('/consejo')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  consejos: res.data.councils\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  consejos: []\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n          axios.get('/consejo/anteriores')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  anteriores: res.data.councils\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  councilList() {\r\n    const councils = [];\r\n    for (let i = 0; i < this.state.consejos.length; i++) {\r\n      let consejo = this.state.consejos[i];\r\n      councils.push(\r\n        <div className=\"col-md-4\" key={i}>\r\n          <div className=\"card border-primary mb-3\">\r\n            <div className=\"card-body p-2\">\r\n              <div className='d-flex justify-content-between align-items-center'>\r\n                <p className=\"card-title m-0\">{consejo.institucion}</p>\r\n                <div className='d-flex justify-content-between align-items-center'>\r\n                  <Link to={`/gConsejos/participantes/${consejo.consecutivo}`}><i className=\"fas fa-user-cog fa-lg ml-2\" style={{ color: \"navy\" }}></i></Link>\r\n                  <Link to={`/gConsejos/editar/${consejo.consecutivo}`}><i className=\"fas fa-edit fa-lg ml-2\" style={{ color: \"navy\" }}></i></Link>\r\n                  <i className=\"fas fa-trash-alt my-icon fa-lg ml-2\" onClick={(e) => this.deleteCouncil(e, consejo.consecutivo)} />\r\n                </div>\r\n              </div>\r\n              <p className='m-0'>{consejo.carrera}</p>\r\n              <p className='m-0'>{consejo.campus}</p>\r\n              <p className='m-0'>{consejo.nombre_consejo}</p>\r\n              <p className='m-0'>Sesin {consejo.id_tipo_sesion === 1 ? 'Ordinaria' : consejo.id_tipo_sesion === 2 ? 'Extraordinaria' : 'Consulta Formal'} {consejo.consecutivo}</p>\r\n              <p className='m-0'>Lugar: {consejo.lugar}</p>\r\n              <p className='m-0'>Fecha: {consejo.fecha}</p>\r\n              <p className='m-0'>Hora: {consejo.hora}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return councils;\r\n  }\r\n\r\n  previousCouncilList() {\r\n    const councils = [];\r\n    for (let i = 0; i < this.state.anteriores.length; i++) {\r\n      let consejo = this.state.anteriores[i];\r\n      councils.push(\r\n        <div className=\"col-md-4\" key={i}>\r\n          <div className=\"card border-primary mb-3\">\r\n            <div className=\"card-body p-2\">\r\n              <div className='d-flex justify-content-between align-items-center'>\r\n                <p className=\"card-title m-0\">{consejo.institucion}</p>\r\n                <div className='d-flex justify-content-between align-items-center'>\r\n                  <Link to={`/gConsejos/${consejo.consecutivo}`}><i className=\"far fa-eye fa-lg ml-2\" style={{ color: \"navy\" }}></i></Link>\r\n                </div>\r\n              </div>\r\n              <p className='m-0'>{consejo.carrera}</p>\r\n              <p className='m-0'>{consejo.campus}</p>\r\n              <p className='m-0'>{consejo.nombre_consejo}</p>\r\n              <p className='m-0'>Sesin {consejo.id_tipo_sesion === 1 ? 'Ordinaria' : consejo.id_tipo_sesion === 2 ? 'Extraordinaria' : 'Consulta Formal'} {consejo.consecutivo}</p>\r\n              <p className='m-0'>Lugar: {consejo.lugar}</p>\r\n              <p className='m-0'>Fecha: {consejo.fecha}</p>\r\n              <p className='m-0'>Hora: {consejo.hora}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return councils;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className='container'>\r\n          {this.state.consejos.length === 0 ? <p className='my-muted text-center'>No hay prximos consejos para mostrar</p> :\r\n            <>\r\n              <h4>Prximos Consejos</h4>\r\n              <hr />\r\n            </>\r\n          }\r\n        </div>\r\n        <div className=\"row m-0 mt-4\">\r\n          {this.councilList()}\r\n        </div>\r\n        <div className='container'>\r\n          {this.state.anteriores.length > 0 &&\r\n            <>\r\n              <h4>Consejos anteriores</h4>\r\n              <hr />\r\n            </>\r\n          }\r\n        </div>\r\n        <div className=\"row m-0 mt-4\">\r\n          {this.previousCouncilList()}\r\n        </div>\r\n        {this.state.anteriores.length > 0 &&\r\n          <BuscadorConsejos admin={true} />\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport BuscadorConsejos from './BuscadorConsejos';\r\nimport auth from '../../helpers/auth';\r\n\r\nexport default class VisualizarConsejosUsuario extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const info = auth.getInfo()\r\n    this.state = {\r\n      cedula: info.cedula,\r\n      nombre: info.nombre,\r\n      apellido: info.apellido,\r\n      segundo_apellido: info.segundo_apellido,\r\n      consejos: [],\r\n      anteriores: [],\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAllCouncils();\r\n  }\r\n\r\n  getAllCouncils() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get('/consejo')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  consejos: res.data.councils\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  consejos: []\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getCouncils() {\r\n    const councils = [];\r\n    for (let i = 0; i < this.state.consejos.length; i++) {\r\n      let consejo = this.state.consejos[i];\r\n      let consecutivo = consejo.consecutivo;\r\n      let institucion = consejo.institucion;\r\n      let carrera = consejo.carrera;\r\n      let campus = consejo.campus;\r\n      let nombre_consejo = consejo.nombre_consejo;\r\n      let lugar = consejo.lugar;\r\n      let fecha = consejo.fecha;\r\n      let hora = consejo.hora;\r\n      let id_tipo_sesion = consejo.id_tipo_sesion;\r\n      councils.push(\r\n        <div className=\"col-md-4 fila-mis-consejos\" key={i}>\r\n          <div className=\"card border-primary mb-3\">\r\n            <div className=\"card-body p-2\">\r\n              <div className='d-flex justify-content-between align-items-center'>\r\n                <p className=\"card-title m-0\">{consecutivo}</p>\r\n                <Link to={`/proximosconsejos/${consecutivo}`}><i className=\"far fa-eye fa-lg ml-2\" style={{ color: \"navy\" }}></i></Link>\r\n              </div>\r\n              <p className='m-0'>{institucion}</p>\r\n              <p className='m-0'>{carrera}</p>\r\n              <p className='m-0'>{campus}</p>\r\n              <p className='m-0'>{nombre_consejo}</p>\r\n              <p className='m-0'>Sesin {id_tipo_sesion === 1 ? 'Ordinaria' : id_tipo_sesion === 2 ? 'Extraordinaria' : 'Consulta Formal'} </p>\r\n              <p className='m-0'>Lugar: {lugar}</p>\r\n              <p className='m-0'>Fecha: {fecha}</p>\r\n              <p className='m-0'>Hora: {hora}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return councils;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className='container'>\r\n          {this.state.consejos.length > 0 ? <p className='text-center lead'>Prximos Consejos</p> : <p className='my-muted text-center'>No hay prximos consejos para mostrar.</p>}\r\n        </div>\r\n        <div className=\"row m-0 mt-4\">\r\n          {this.getCouncils()}\r\n        </div>\r\n          <BuscadorConsejos />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport auth from \"../../helpers/auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport $ from 'jquery';\r\n\r\nexport default class SolicitudAgenda extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: this.props.consecutivo,\r\n      solicitudes: new Map(),\r\n      redirect: false\r\n    }\r\n\r\n    this.makeEditable = this.makeEditable.bind(this);\r\n    this.acceptDiscussion = this.acceptDiscussion.bind(this);\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRequestsFromDB();\r\n  }\r\n\r\n  getRequestsFromDB() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/punto/solicitud/${this.state.consecutivo}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                let solicitudes = new Map();\r\n                for (let i = 0; i < res.data.discussions.length; i++) {\r\n                  let solicitud = res.data.discussions[i];\r\n                  solicitud.editable = false;\r\n                  solicitudes.set(solicitud.id_punto, solicitud);\r\n                }\r\n                this.setState({\r\n                  solicitudes: solicitudes\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  solicitudes: new Map()\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let id_punto = parseInt(e.target.name);\r\n    let value = e.target.value;\r\n    let solicitud = this.state.solicitudes.get(id_punto);\r\n    solicitud.asunto = value;\r\n    this.setState(prevState => ({ solicitudes: prevState.solicitudes.set(id_punto, solicitud) }));\r\n  }\r\n\r\n  makeEditable(e, id_punto) {\r\n    e.preventDefault();\r\n    let solicitud = this.state.solicitudes.get(id_punto);\r\n    solicitud.editable = true;\r\n    this.setState(prevState => ({ solicitudes: prevState.solicitudes.set(id_punto, solicitud) }));\r\n  }\r\n\r\n  disableEditable(e, id_punto) {\r\n    e.preventDefault();\r\n    let solicitud = this.state.solicitudes.get(id_punto);\r\n    solicitud.editable = false;\r\n    this.setState(prevState => ({ solicitudes: prevState.solicitudes.set(id_punto, solicitud) }));\r\n  }\r\n\r\n  acceptDiscussion(e, id_punto) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/punto/aprobado/${this.state.consecutivo}`)\r\n            .then(response => {\r\n              let orden = 0;\r\n              if(response.data.succes){\r\n                orden = response.data.discussions.length;\r\n              }\r\n              axios.put(`/punto/${id_punto}`, { id_estado_punto: 1, asunto: this.state.solicitudes.get(id_punto).asunto, orden: orden })\r\n                  .then(res => {\r\n                    if (res.data.success) {\r\n                      let solicitudes = this.state.solicitudes;\r\n                      solicitudes.delete(id_punto);\r\n                      this.setState({\r\n                        solicitudes: solicitudes\r\n                      });\r\n                      this.props.updateParent();\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  deleteDiscussion(e, id_punto) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.delete(`/punto/${id_punto}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                let solicitudes = this.state.solicitudes;\r\n                solicitudes.delete(id_punto);\r\n                this.setState({\r\n                  solicitudes: solicitudes\r\n                });\r\n                this.props.updateParent();\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getRequests() {\r\n    const requests = [];\r\n    for (let value of this.state.solicitudes.values()) {\r\n      if (value.editable) {\r\n        requests.push(\r\n          <div className='d-flex justify-content-between align-items-center my-2' key={value.id_punto}>\r\n            <div style={{ width: '95%' }}>\r\n              <p className='m-0 text-justify'>{value.nombre + ' ' + value.apellido}:</p>\r\n              <textarea name={value.id_punto} className=\"form-control\" onChange={this.handleInputChange} value={value.asunto} style={{ width: 'inherited' }} />\r\n            </div>\r\n            <button className=\"fas fa-edit my-disabled fa-lg ml-4 my-button\" type=\"button\" onClick={(e) => this.disableEditable(e, value.id_punto)} />\r\n            <button className=\"far fa-check-circle my-icon fa-lg mx-2 my-button\" type=\"button\" onClick={(e) => this.acceptDiscussion(e, value.id_punto)} />\r\n          </div>\r\n        );\r\n      } else {\r\n        requests.push(\r\n          <div className='d-flex justify-content-between align-items-center my-2' key={value.id_punto}>\r\n            <p className='m-0 text-justify'>{value.nombre + ' ' + value.apellido}: {value.asunto}</p>\r\n            <div className='d-flex justify-content-between align-items-center'>\r\n              <button className=\"fas fa-edit my-icon fa-lg ml-4 my-button\" type=\"button\" onClick={(e) => this.makeEditable(e, value.id_punto)} />\r\n              <button className=\"far fa-check-circle my-icon fa-lg mx-2 my-button\" type=\"button\" onClick={(e) => this.acceptDiscussion(e, value.id_punto)} />\r\n              <button className=\"fas fa-trash-alt my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.deleteDiscussion(e, value.id_punto)}/>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return requests;\r\n  }\r\n\r\n  render() {\r\n    $('#solicitudes').on('shown.bs.modal', function () {\r\n      $('#modal-input').focus();\r\n    });\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        {this.props.ordenar ?\r\n          <button className=\"fas fa-tasks my-disabled disabled fa-lg my-button\" type=\"button\" />\r\n          :\r\n          <button className=\"fas fa-tasks my-icon fa-lg my-button\" type=\"button\" data-toggle=\"modal\" data-target=\"#solicitudes\" />\r\n        }\r\n        <div className=\"modal fade\" id=\"solicitudes\" role=\"dialog\">\r\n          <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n            <div className=\"modal-content modal-border\">\r\n              <div className=\"modal-body\">\r\n                <i className=\"fas fa-times fa-lg m-2 ubicar-salida my-icon\" data-dismiss=\"modal\"></i>\r\n                <h4 className=\"modal-title text-center mb-4\">Solicitudes de Agenda</h4>\r\n                {this.state.solicitudes.size === 0 && <p className='my-muted'>No hay solicitudes de agenda para este consejo.</p>}\r\n                {this.getRequests()}\r\n                <div className='d-flex justify-content-center'>\r\n                  <button type=\"button\" className=\"btn btn-outline-primary my-size mt-4\" data-dismiss=\"modal\">Listo</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport SolicitudAgenda from './SolicitudAgenda';\r\nimport auth from \"../../helpers/auth\";\r\n\r\nexport default class AgendaOficial extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      consecutivo: this.props.consecutivo,\r\n      punto: '',\r\n      puntos: [],\r\n      tipoPunto: [],\r\n      puntoSeleccionado: 1,\r\n      ordenar: false,\r\n      orden: 0,\r\n      redirect: false\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.addDiscussion = this.addDiscussion.bind(this);\r\n    this.deleteDiscussion = this.deleteDiscussion.bind(this);\r\n    this.handleUpdate = this.handleUpdate.bind(this);\r\n    this.sort = this.sort.bind(this);\r\n    this.doneSorting = this.doneSorting.bind(this);\r\n    this.up = this.up.bind(this);\r\n    this.down = this.down.bind(this);\r\n    this.button = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDiscussionsFromBD();\r\n    axios.get('/tipo_punto')\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          this.setState({\r\n            tipoPunto: res.data.discussionTypes\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getDiscussionsFromBD() {\r\n    axios.get(`/punto/aprobado/${this.state.consecutivo}`)\r\n      .then(resp => {\r\n        if (resp.data.success) {\r\n          this.setState({\r\n            puntos: resp.data.discussions,\r\n            orden: resp.data.discussions.length\r\n          });\r\n        } else {\r\n          this.setState({\r\n            puntos: []\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  addDiscussion(e) {\r\n    e.preventDefault();\r\n    if (this.state.punto !== '') {\r\n      auth.verifyToken()\r\n        .then(value => {\r\n          if (value) {\r\n            axios.post('/punto', { asunto: this.state.punto, consecutivo: this.state.consecutivo, id_estado_punto: 1, cedula: auth.getInfo().cedula, orden: this.state.orden, id_tipo_punto: this.state.puntoSeleccionado })\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.getDiscussionsFromBD();\r\n                  this.setState({\r\n                    punto: '',\r\n                    orden: this.state.orden + 1\r\n                  });\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          } else {\r\n            this.setState({\r\n              redirect: true\r\n            })\r\n            auth.logOut();\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  deleteDiscussion(e, id_punto) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.delete(`/punto/${id_punto}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.getDiscussionsFromBD();\r\n                this.setState({\r\n                  orden: this.state.orden - 1\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  doneSorting(e) {\r\n    e.preventDefault();\r\n    axios.put('/punto/ordenar/', { puntos: this.state.puntos })\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          this.setState({\r\n            ordenar: !this.state.ordenar\r\n          });\r\n          this.button.current.removeAttribute('disabled', 'disabled');\r\n          this.button.current.style.color = 'navy';\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  sort(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      ordenar: !this.state.ordenar\r\n    });\r\n    this.button.current.setAttribute('disabled', 'disabled');\r\n    this.button.current.style.color = 'grey';\r\n  }\r\n\r\n  up(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.puntos;\r\n    [puntos[i - 1], puntos[i]] = [puntos[i], puntos[i - 1]];\r\n    this.setState({\r\n      puntos: puntos\r\n    });\r\n  }\r\n\r\n  down(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.puntos;\r\n    [puntos[i + 1], puntos[i]] = [puntos[i], puntos[i + 1]];\r\n    this.setState({\r\n      puntos: puntos\r\n    });\r\n  }\r\n\r\n  handleUpdate() {\r\n    this.getDiscussionsFromBD();\r\n  }\r\n\r\n  getDiscussions() {\r\n    const discussions = [];\r\n    for (let i = 0; i < this.state.puntos.length; i++) {\r\n      let punto = this.state.puntos[i];\r\n      discussions.push(\r\n        <div className='d-flex justify-content-between align-items-center my-2' key={i}>\r\n          <div>\r\n            <li className='text-justify m-0'>{punto.asunto}</li>\r\n            {punto.id_tipo_punto === 1 && <p className='text-justify m-0 my-muted'>*Este punto es votativo</p>}\r\n          </div>\r\n          {this.state.ordenar ?\r\n            <div className='d-flex'>\r\n              {i !== 0 && <button className=\"far fa-caret-square-up my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.up(e, i)} />}\r\n              {i !== (this.state.puntos.length - 1) && <button className=\"far fa-caret-square-down my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.down(e, i)} />}\r\n            </div>\r\n            :\r\n            <button className=\"fas fa-trash-alt my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.deleteDiscussion(e, punto.id_punto)} />\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n    return discussions;\r\n  }\r\n\r\n  getDiscussionTypes() {\r\n    const info = [];\r\n    for (let i = 0; i < this.state.tipoPunto.length; i++) {\r\n      let tipo_punto = this.state.tipoPunto[i];\r\n      info.push(\r\n        <div className=\"custom-control custom-radio mx-auto\" key={i}>\r\n          <input type=\"radio\" id={tipo_punto.descripcion} name=\"puntoSeleccionado\" value={tipo_punto.id_tipo_punto} onChange={this.handleInputChange}\r\n            checked={parseInt(this.state.puntoSeleccionado, 10) === tipo_punto.id_tipo_punto} className=\"custom-control-input\" />\r\n          <label className=\"custom-control-label\" htmlFor={tipo_punto.descripcion}>\r\n            {tipo_punto.descripcion}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    return info;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <div className='d-flex justify-content-center align-items-center mb-2'>\r\n          <p className='text-center m-0 pr-2'>Puntos de Agenda Oficiales y Solicitudes de Agenda</p>\r\n          <SolicitudAgenda consecutivo={this.state.consecutivo} updateParent={this.handleUpdate} ordenar={this.state.ordenar} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <div className='d-flex align-items-center'>\r\n            <textarea placeholder='Punto de agenda (opcional)' name='punto' className=\"form-control mr-2\" onChange={this.handleInputChange} value={this.state.punto} />\r\n            <button className=\"fas fa-plus-square my-icon fa-lg my-button\" type=\"button\" onClick={this.addDiscussion} ref={this.button} />\r\n          </div>\r\n          <div className=\"form-group d-flex align-items-center\">\r\n            {this.getDiscussionTypes()}\r\n          </div>\r\n          {this.state.puntos.length === 0 && <p className='my-muted'>No se han agregado puntos de agenda.</p>}\r\n          <div className='punto-editable mt-2'>\r\n            <ol className='pl-4 m-0'>\r\n              {this.getDiscussions()}\r\n            </ol>\r\n          </div>\r\n        </div>\r\n        {this.state.puntos.length > 1 &&\r\n          <div className='d-flex align-items-center justify-content-end'>\r\n            {this.state.ordenar ?\r\n              <>\r\n                <p className='m-0 mr-2'>Aplicar Orden</p>\r\n                <button className=\"far fa-check-circle my-icon fa-lg my-button\" type=\"button\" onClick={this.doneSorting} />\r\n              </>\r\n              :\r\n              <>\r\n                <p className='m-0 mr-2'>Ordenar</p>\r\n                <button className=\"fas fa-sort my-icon fa-lg my-button\" type=\"button\" onClick={this.sort} />\r\n              </>\r\n            }\r\n          </div>\r\n        }\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport AgendaOficial from './AgendaOficial';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\nimport { getTodaysDate } from '../../helpers/dates';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport { Loading } from '../../helpers/Loading';\r\nimport DefaultComponent from '../../helpers/DefaultComponent';\r\nimport './Consejos.css';\r\n\r\nexport default class EditarConsejo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      consecutivo: this.props.match.params.consecutivo,\r\n      lugar: '',\r\n      fecha: '',\r\n      hora: '',\r\n      limite_solicitud: '',\r\n      hoy: getTodaysDate(),\r\n      tipoSesion: [],\r\n      sesionSeleccionada: 1,\r\n      encontrado: true,\r\n      redirect: false\r\n    }\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get('/tipo_consejo')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  tipoSesion: res.data.councilTypes\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n          axios.get(`/consejo/${this.state.consecutivo}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  isLoading: false,\r\n                  lugar: res.data.council.lugar,\r\n                  fecha: res.data.council.fecha,\r\n                  hora: res.data.council.hora,\r\n                  limite_solicitud: res.data.council.limite_solicitud,\r\n                  sesionSeleccionada: res.data.council.id_tipo_sesion\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  isLoading: false,\r\n                  encontrado: false\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          if(this.state.fecha <= this.state.limite_solicitud){\r\n            myAlert('Atencin', `La fecha limite de solicitudes no puede ser posterior o igual a la fecha de realizacin consejo.`, 'warning');\r\n          } else {\r\n            const consejo = {\r\n              id_tipo_sesion: this.state.sesionSeleccionada,\r\n              lugar: this.state.lugar,\r\n              fecha: this.state.fecha,\r\n              hora: this.state.hora,\r\n              limite_solicitud: this.state.limite_solicitud\r\n            }\r\n            axios.put(`/consejo/${this.state.consecutivo}`, consejo)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.props.history.push('/gConsejos');\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getCouncilTypes() {\r\n    const info = [];\r\n    for (let i = 0; i < this.state.tipoSesion.length; i++) {\r\n      let id_tipo_sesion = this.state.tipoSesion[i].id_tipo_sesion;\r\n      let descripcion = this.state.tipoSesion[i].descripcion;\r\n      info.push(\r\n        <div className=\"custom-control custom-radio\" key={i}>\r\n          <input type=\"radio\" id={descripcion} name=\"sesionSeleccionada\" value={id_tipo_sesion} onChange={this.handleInputChange}\r\n            checked={parseInt(this.state.sesionSeleccionada, 10) === id_tipo_sesion} className=\"custom-control-input\" />\r\n          <label className=\"custom-control-label\" htmlFor={descripcion}>\r\n            {descripcion}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    return info;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.isLoading ? <Loading /> : this.state.redirect ? <Redirect to='/' /> : !this.state.encontrado ? <DefaultComponent /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-md-10 m-auto\">\r\n            <div className=\"card border-primary consejo-card\">\r\n              <div className=\"card-body\">\r\n                <Link to='/gConsejos'><i className=\"fas fa-times fa-lg m-2 ubicar-salida\" style={{ color: 'navy' }}></i></Link>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className='todo-registro'>\r\n                    <div className='registro-container izq'>\r\n                      <p className='text-center m-0 mb-2'>Edicin Bsica del Consejo {this.state.consecutivo}</p>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"text\" required maxLength=\"100\" name=\"lugar\" autoFocus\r\n                          placeholder=\"Lugar\" autoComplete=\"off\" className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.lugar} />\r\n                        <p className='my-muted'>*Lugar donde se llevar a cabo el consejo.</p>\r\n                      </div>\r\n                      <p className='m-0'>Seleccione el tipo de sesin:</p>\r\n                      <div className=\"form-group\">\r\n                        {this.getCouncilTypes()}\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"date\" required name=\"fecha\" min={this.state.hoy} className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.fecha} />\r\n                        <p className=\"my-muted\">*Fecha en la que se llevar a cabo el consejo.</p>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"time\" required name=\"hora\" min='07:00' max='20:00' step='900' className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.hora} />\r\n                        <p className='my-muted'>*Hora en la que se llevar a cabo el consejo.</p>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input type=\"date\" required name=\"limite_solicitud\" min={this.state.hoy} className=\"form-control\"\r\n                          onChange={this.handleInputChange} value={this.state.limite_solicitud} />\r\n                        <p className=\"my-muted\">*Fecha lmite para el envo de sugerencias de puntos de consejo.</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className='registro-container der'>\r\n                      <AgendaOficial consecutivo={this.state.consecutivo} />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button type=\"submit\" className=\"btn btn-outline-primary mt-4 editar-button\">Guardar Cambios</button>\r\n                    <Link className=\"btn btn-outline-secondary mt-4 editar-button\" to='/gConsejos'>Cancelar</Link>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport Convocados from './Convocados';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport auth from '../../helpers/auth';\r\nimport DefaultComponent from '../../helpers/DefaultComponent';\r\nimport { Loading } from '../../helpers/Loading';\r\nimport './Consejos.css';\r\n\r\nexport default class Consejos extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      consecutivo: this.props.match.params.consecutivo,\r\n      consejo: {},\r\n      aprobados: [],\r\n      punto: '',\r\n      cedula: auth.getInfo().cedula,\r\n      encontrado: true,\r\n      redirect: false\r\n    }\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.checkedCouncil = this.checkedCouncil.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get(`/consejo/${this.state.consecutivo}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  isLoading: false,\r\n                  consejo: res.data.council\r\n                });\r\n                axios.get(`/punto/votacion/${this.state.consecutivo}`)\r\n                  .then(resp => {\r\n                    if (resp.data.success) {\r\n                      for (let i = 0; i < resp.data.discussions.length; i++) {\r\n                        resp.data.discussions[i].editable = false;\r\n                        if (resp.data.discussions[i].abstencion === null) {\r\n                          resp.data.discussions[i].nuevo = true;\r\n                        } else {\r\n                          resp.data.discussions[i].nuevo = false;\r\n                        }\r\n                      }\r\n                      this.setState({\r\n                        aprobados: resp.data.discussions\r\n                      });\r\n                    }\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              } else {\r\n                this.setState({\r\n                  isLoading: false,\r\n                  encontrado: false\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e, i) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    if ((!Number(value)) && (value !== '') && (value !== '0')) {\r\n      return;\r\n    }\r\n    let puntos = this.state.aprobados;\r\n    puntos[i][name] = value;\r\n    this.setState({\r\n      aprobados: puntos\r\n    });\r\n  }\r\n\r\n  saveChanges(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.aprobados;\r\n    puntos[i].editable = false;\r\n    if (puntos[i].favor === null) {\r\n      puntos[i].favor = 0;\r\n    }\r\n    if (puntos[i].contra === null) {\r\n      puntos[i].contra = 0;\r\n    }\r\n    if (puntos[i].abstencion === null) {\r\n      puntos[i].abstencion = 0;\r\n    }\r\n    let punto = puntos[i];\r\n    if (punto.nuevo) {\r\n      axios.post('/votacion', { id_punto: punto.id_punto, favor: punto.favor, contra: punto.contra, abstencion: punto.abstencion })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            puntos[i].nuevo = false;\r\n            this.setState({\r\n              aprobados: puntos\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      axios.put('/votacion', { id_punto: punto.id_punto, favor: punto.favor, contra: punto.contra, abstencion: punto.abstencion })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.setState({\r\n              aprobados: puntos\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  makeEditable(e, i) {\r\n    e.preventDefault();\r\n    let puntos = this.state.aprobados;\r\n    puntos[i].editable = true;\r\n    this.setState({\r\n      aprobados: puntos\r\n    });\r\n  }\r\n\r\n  checkedCouncil(e) {\r\n    e.preventDefault();\r\n    swal({\r\n      title: \"Confirmacin\",\r\n      text: `La informacin de este consejo no se podr volver a editar.`,\r\n      icon: \"warning\",\r\n      buttons: [\"Cancelar\", \"Confirmar\"],\r\n      dangerMode: true,\r\n    })\r\n      .then((willUpdate) => {\r\n        if (willUpdate) {\r\n          axios.put(`/consejo/no_editable/${this.state.consecutivo}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.props.history.push('/gConsejos');\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n      });\r\n  }\r\n\r\n  getDiscussions() {\r\n    const discussions = [];\r\n    for (let i = 0; i < this.state.aprobados.length; i++) {\r\n      discussions.push(\r\n        this.getDiscussion(this.state.aprobados[i], i)\r\n      );\r\n    }\r\n    return discussions;\r\n  }\r\n\r\n  getDiscussion(discussion, i) {\r\n    if (!this.state.consejo.editable) {\r\n      if (discussion.id_tipo_punto === 2) {\r\n        return <li className='m-0 text-justify' key={i}>{discussion.asunto}</li>;\r\n      }\r\n      return (\r\n        <div className='my-2' key={i}>\r\n          <li className='m-0 text-justify'>{discussion.asunto}</li>\r\n          <p className='m-0'>Resultados de votaciones</p>\r\n          <div className='d-flex align-items-center'>\r\n            <p className='m-0'>A favor: {discussion.favor}</p>\r\n            <p className='m-0 mx-2'>En contra: {discussion.contra}</p>\r\n            <p className='m-0'>Abstenciones: {discussion.abstencion}</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (discussion.id_tipo_punto === 2) {\r\n      return <li className='m-0 text-justify' key={i}>{discussion.asunto}</li>;\r\n    }\r\n    if (discussion.editable) {\r\n      return (\r\n        <div className='my-2' key={i}>\r\n          <li className='m-0 text-justify'>{discussion.asunto}</li>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <div className='d-flex align-items-center'>\r\n              <input type=\"text\" required maxLength=\"4\" name=\"favor\"\r\n                placeholder=\"a favor\" autoComplete=\"off\" className=\"form-control votacion-input\"\r\n                onChange={(e) => this.handleInputChange(e, i)} value={discussion.favor === null ? '' : discussion.favor} />\r\n              <input type=\"text\" required maxLength=\"4\" name=\"contra\"\r\n                placeholder=\"en contra\" autoComplete=\"off\" className=\"form-control votacion-input mx-2\"\r\n                onChange={(e) => this.handleInputChange(e, i)} value={discussion.contra === null ? '' : discussion.contra} />\r\n              <input type=\"text\" required maxLength=\"4\" name=\"abstencion\"\r\n                placeholder=\"abstenciones\" autoComplete=\"off\" className=\"form-control votacion-input\"\r\n                onChange={(e) => this.handleInputChange(e, i)} value={discussion.abstencion === null ? '' : discussion.abstencion} />\r\n            </div>\r\n            <button className=\"far fa-check-circle my-icon fa-lg my-button mx-1\" type=\"button\" onClick={(e) => this.saveChanges(e, i)} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (!discussion.nuevo) {\r\n      return (\r\n        <div className='my-2' key={i}>\r\n          <li className='m-0 text-justify'>{discussion.asunto}</li>\r\n          <p className='m-0'>Resultados de votaciones</p>\r\n          <div className='d-flex justify-content-between align-items-center'>\r\n            <div className='d-flex align-items-center'>\r\n              <p className='m-0'>A favor: {discussion.favor}</p>\r\n              <p className='m-0 mx-2'>En contra: {discussion.contra}</p>\r\n              <p className='m-0'>Abstenciones: {discussion.abstencion}</p>\r\n            </div>\r\n            <button className=\"fas fa-edit my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.makeEditable(e, i)} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className='d-flex justify-content-between align-items-center my-2' key={i}>\r\n        <li className='m-0 text-justify'>{discussion.asunto}</li>\r\n        <button className=\"fas fa-vote-yea my-icon fa-lg mx-1 my-button\" type=\"button\" onClick={(e) => this.makeEditable(e, i)} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (this.state.isLoading ? <Loading /> : this.state.redirect ? <Redirect to='/' /> : !this.state.encontrado ? <DefaultComponent /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-md-11 m-auto\">\r\n            <div className=\"card border-primary consejo-card\">\r\n              <div className=\"card-body\">\r\n                <Link to='/gConsejos'><i className=\"fas fa-times fa-lg m-2 ubicar-salida\" style={{ color: 'navy' }}></i></Link>\r\n                <div className='todo-registro'>\r\n                  <div className='registro-container izq'>\r\n                    <p className=\"card-title text-center text-uppercase m-0\">{this.state.consejo.institucion}</p>\r\n                    <p className='text-uppercase text-center m-0'>{this.state.consejo.escuela}</p>\r\n                    <p className='text-uppercase text-center m-0'>Convocatoria</p>\r\n                    <p className='text-uppercase text-center m-0'>Sesin {this.state.consejo.id_tipo_sesion === 1 ? 'Ordinaria' : 'Extraordinaria'} {this.state.consecutivo}</p>\r\n                    <p className='text-uppercase text-center m-0'>{this.state.consejo.nombre_consejo}</p>\r\n                    <p className='text-center m-0'>FECHA: {this.state.consejo.fecha}</p>\r\n                    <p className='text-center m-0'>HORA: {this.state.consejo.hora}</p>\r\n                    <p className='text-center m-0'>LUGAR: {this.state.consejo.lugar}</p>\r\n                    <hr />\r\n                    <Convocados consecutivo={this.state.consecutivo} />\r\n                  </div>\r\n                  <div className='registro-container der'>\r\n                    <p>Puntos de Agenda:</p>\r\n                    <div className='punto-votacion'>\r\n                      <ol className='pl-4 m-0'>\r\n                        {this.getDiscussions()}\r\n                      </ol>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {this.state.consejo.editable &&\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button type=\"button\" className=\"btn btn-outline-primary mt-4 editar-button\" onClick={this.checkedCouncil}>Guardar Cambios</button>\r\n                    <Link className=\"btn btn-outline-secondary mt-4 editar-button\" to='/gConsejos'>Cancelar</Link>\r\n                  </div>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport $ from 'jquery';\r\nimport 'bootstrap';\r\n\r\nexport default class InvitarUsuario extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      correo: '',\r\n      permisos: new Map(),\r\n      id_tipo_convocado: 1,\r\n      tipos_convocado: [],\r\n      redirect: false\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleOptionChange = this.handleOptionChange.bind(this);\r\n    this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n    this.button = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get('/permiso')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                let permisos = new Map();\r\n                for (let i = 0; i < res.data.roles.length; i++) {\r\n                  let permiso = res.data.roles[i];\r\n                  permiso.seleccionado = false;\r\n                  permisos.set(permiso.id_permiso, permiso);\r\n                }\r\n                this.setState({\r\n                  permisos: permisos\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n          axios.get('/tipo_convocado')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  tipos_convocado: res.data.attendantTypes\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleCheckboxChange(e) {\r\n    const name = parseInt(e.target.name);\r\n    const value = e.target.checked;\r\n    let permiso = this.state.permisos.get(name);\r\n    permiso.seleccionado = value;\r\n    this.setState(prevState => ({ permisos: prevState.permisos.set(name, permiso) }));\r\n  }\r\n\r\n  handleOptionChange(e) {\r\n    this.setState({\r\n      id_tipo_convocado: e.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          this.button.current.setAttribute('disabled', 'disabled');\r\n          this.button.current.style.cursor = 'progress';\r\n          const permisos = [];\r\n          for (let value of this.state.permisos.values()) {\r\n            if (value.seleccionado) {\r\n              permisos.push(value.id_permiso);\r\n            }\r\n          }\r\n          const info = {\r\n            correo: this.state.correo,\r\n            id_tipo_convocado: this.state.id_tipo_convocado,\r\n            permisos: permisos\r\n          };\r\n          axios.post('/usuario/enviar_link/', info)\r\n            .then(resp => {\r\n              if (resp.data.success) {\r\n                myAlert(\"Invitacin Exitosa\", `Se ha enviado un link con la invitacin de registro a ${this.state.correo}`, \"success\");\r\n              } else {\r\n                myAlert(\"Oh no!\", \"Error interno del servidor.\", \"error\");\r\n              }\r\n              for (let value of this.state.permisos.values()) {\r\n                value.seleccionado = false;\r\n                this.setState(prevState => ({ permisos: prevState.permisos.set(value.id_permiso, value) }));\r\n              }\r\n              this.setState({\r\n                correo: '',\r\n                id_tipo_convocado: 1,\r\n              });\r\n              $('#invitar').modal('hide');\r\n              this.button.current.removeAttribute('disabled', 'disabled');\r\n              this.button.current.style.cursor = 'default';\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getPermisos() {\r\n    const checks = [];\r\n    for (let value of this.state.permisos.values()) {\r\n      checks.push(\r\n        <div className=\"custom-control custom-checkbox\" key={value.id_permiso}>\r\n          <input type=\"checkbox\" className=\"custom-control-input\"\r\n            id={value.nombre} checked={value.seleccionado}\r\n            onChange={this.handleCheckboxChange} name={value.id_permiso} />\r\n          <label className=\"custom-control-label\" htmlFor={value.nombre}>\r\n            {value.nombre}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    return checks;\r\n  }\r\n\r\n  getTipoConvocado() {\r\n    const tipo_convocado = [];\r\n    for (let i = 0; i < this.state.tipos_convocado.length; i++) {\r\n      let id = this.state.tipos_convocado[i].id_tipo_convocado;\r\n      let descripcion = this.state.tipos_convocado[i].descripcion;\r\n      tipo_convocado.push(\r\n        <option value={id} key={i}>{descripcion}</option>\r\n      );\r\n    }\r\n    return tipo_convocado;\r\n  }\r\n\r\n  render() {\r\n    $('#invitar').on('shown.bs.modal', function () {\r\n      $('#modal-input').focus();\r\n    });\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <button type=\"button\" className=\"btn btn-outline-primary py-0 altura-button\" data-toggle=\"modal\" data-target=\"#invitar\">\r\n          Invita a un usuario\r\n        </button>\r\n        <div className=\"modal fade\" id=\"invitar\" role=\"dialog\">\r\n          <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n            <div className=\"modal-content modal-border\">\r\n              <div className=\"modal-body\">\r\n                <i className=\"fas fa-times fa-lg m-2 ubicar-salida my-icon\" data-dismiss=\"modal\"></i>\r\n                <h4 className=\"modal-title text-center mb-4\">Invitacin</h4>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"email\" id='modal-input' required maxLength=\"200\" name=\"correo\"\r\n                      placeholder=\"Correo electrnico\" autoComplete=\"off\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.correo} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <p className=\"lead\">Permisos que le asocia:</p>\r\n                    {this.getPermisos()}\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <p className=\"lead\">Se convoca como:</p>\r\n                    <select className=\"custom-select\" value={this.state.id_tipo_convocado} onChange={this.handleOptionChange}>\r\n                      {this.getTipoConvocado()}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button ref={this.button} type=\"submit\" className=\"btn btn-outline-primary mt-4 my-size\">Invitar</button>\r\n                    <button type=\"button\" className=\"btn btn-outline-secondary my-size mt-4\" data-dismiss=\"modal\">Cancelar</button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport auth from '../../helpers/auth';\r\nimport './ListaUsuarios.css';\r\nimport InvitarUsuario from './InvitarUsuario';\r\n\r\nexport default class ListaUsuarios extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      usuarios: [],\r\n      redirect: false\r\n    };\r\n    this.deleteUser = this.deleteUser.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUsers();\r\n  }\r\n\r\n  getUsers() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.get('/usuario/')\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  usuarios: res.data.users\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  deleteUser(e, cedula, nombre, apellido) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          swal({\r\n            title: \"Confirmacin\",\r\n            text: `Se eliminar la informacin de ${nombre} ${apellido}`,\r\n            icon: \"warning\",\r\n            buttons: [\"Cancelar\", \"Confirmar\"],\r\n            dangerMode: true,\r\n          })\r\n            .then((willDelete) => {\r\n              if (willDelete) {\r\n                axios.delete(`/usuario_permiso/${cedula}`)\r\n                  .then(() => {\r\n                    axios.delete(`/correo/${cedula}`)\r\n                      .then(() => {\r\n                        axios.delete(`/usuario/${cedula}`)\r\n                          .then(() => {\r\n                            this.getUsers();\r\n                          })\r\n                          .catch((err) => console.log(err));\r\n                      })\r\n                      .catch((err) => console.log(err));\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              }\r\n            });\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          })\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  userList() {\r\n    const tableRows = [];\r\n    for (let i = 0; i < this.state.usuarios.length; i++) {\r\n      let user = this.state.usuarios[i];\r\n      let { cedula, nombre, apellido, segundo_apellido } = user;\r\n      if (cedula !== auth.getInfo().cedula) {\r\n        tableRows.push(\r\n          <tr key={i}>\r\n            <td className='special-border align-middle'>{cedula}</td>\r\n            <td className='special-border align-middle'>{nombre}</td>\r\n            <td className='special-border align-middle'>{apellido}</td>\r\n            <td className='special-border align-middle'>{segundo_apellido}</td>\r\n            <td className='special-border align-middle'>\r\n              <Link to={`/gUsuarios/${cedula}`}><i className=\"far fa-eye fa-lg mr-4\" style={{ color: \"navy\" }}></i></Link>\r\n              <i className='fas fa-trash-alt my-icon fa-lg' onClick={(e) => this.deleteUser(e, cedula, nombre, apellido)} />\r\n            </td>\r\n          </tr>\r\n        );\r\n      }\r\n    }\r\n    return tableRows;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"container\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <h3 className=\"mb-4\">Lista de Usuarios</h3>\r\n            <InvitarUsuario />\r\n          </div>\r\n          {this.state.usuarios.length === 1 &&\r\n            <p className=\"my-muted\">No hay ms usuarios en el sistema.</p>}\r\n          <table className=\"table m-auto\">\r\n            <tbody>\r\n              {this.userList()}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport DefaultComponent from '../../helpers/DefaultComponent';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport { Loading } from '../../helpers/Loading';\r\n\r\nexport default class Registro extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cedula: '',\r\n      nombre: '',\r\n      apellido: '',\r\n      segundo_apellido: '',\r\n      clave: '',\r\n      confirmacion: '',\r\n      correo: '',\r\n      permisos: [],\r\n      isLoading: true,\r\n      invalido: true,\r\n      registrado: false\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.props.match.params.token;\r\n    axios.get(`/usuario/validar_link/${token}`)\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          this.setState({\r\n            isLoading: false,\r\n            invalido: false,\r\n            permisos: res.data.links\r\n          });\r\n        } else {\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  updateStatePasswords() {\r\n    this.setState({\r\n      clave: '',\r\n      confirmacion: ''\r\n    });\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    if ((name === 'cedula') && (!Number(value)) && (value !== '')) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.state.clave === this.state.confirmacion) {\r\n      const user = {\r\n        cedula: this.state.cedula,\r\n        nombre: this.state.nombre,\r\n        apellido: this.state.apellido,\r\n        segundo_apellido: this.state.segundo_apellido,\r\n        clave: this.state.clave,\r\n        id_tipo_convocado: this.state.permisos[0].id_tipo_convocado\r\n      };\r\n      axios.get(`/usuario/${this.state.cedula}`)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            myAlert('Atencin', 'Ya existe un usuario en el sistema con la cdula proporcionada.', 'warning');\r\n            this.updateStatePasswords();\r\n          } else {\r\n            axios.post('/correo/verificar_correo', { correo: this.state.correo })\r\n              .then(respo => {\r\n                if (!respo.data.taken) {\r\n                  axios.post('/usuario/', user)\r\n                    .then(async resp => {\r\n                      if (resp.data.success) {\r\n                        try {\r\n                          for (let i = 0; i < this.state.permisos.length; i++) {\r\n                            if (this.state.permisos[i].id_permiso === 1) {\r\n                              await axios.post('/usuario_permiso', { cedula: this.state.cedula, id_permiso: 1 });\r\n                            }\r\n                            if (this.state.permisos[i].id_permiso === 2) {\r\n                              await axios.post('/usuario_permiso', { cedula: this.state.cedula, id_permiso: 2 });\r\n                            }\r\n                          }\r\n                        } catch (err) {\r\n                          console.log(err);\r\n                        }\r\n                        axios.post(`/correo/${this.state.cedula}`, { correo: this.state.correo })\r\n                          .then(respon => {\r\n                            if (respon.data.success) {\r\n                              myAlert('Registro Exitoso', 'Ahora puede iniciar sesin y utilizar el sistema.', 'success');\r\n                              this.setState({\r\n                                registrado: true\r\n                              });\r\n                            } else {\r\n                              myAlert('Oh no!', 'Error interno del servidor.', 'error');\r\n                              this.updateStatePasswords();\r\n                            }\r\n                          })\r\n                          .catch((err) => console.log(err));\r\n                      } else {\r\n                        myAlert('Oh no!', 'Error interno del servidor.', 'error');\r\n                        this.updateStatePasswords();\r\n                      }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                } else {\r\n                  myAlert('Atencin', 'Ya existe un usuario con este correo en el sistema.', 'warning');\r\n                  this.updateStatePasswords();\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      myAlert('Atencin', 'Las contraseas no coinciden.', 'warning');\r\n      this.updateStatePasswords();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLoading) {\r\n      return <Loading />;\r\n    } else if (this.state.invalido) {\r\n      return <DefaultComponent />;\r\n    } else if (this.state.registrado) {\r\n      return <Redirect to='/' />\r\n    } else {\r\n      return (\r\n        <div className=\"row m-0\" style={{ height: '100vh' }}>\r\n          <div className=\"col-md-5 m-auto\">\r\n            <div className=\"card border-primary mb-3\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title text-center mb-4\">Registro de Usuarios</h4>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" required maxLength=\"20\" name=\"cedula\"\r\n                      placeholder=\"Cdula\" autoComplete=\"off\" className=\"form-control\"\r\n                      autoFocus onChange={this.handleInputChange} value={this.state.cedula} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" required maxLength=\"50\" name=\"nombre\"\r\n                      placeholder=\"Nombre\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.nombre} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" required maxLength=\"50\" name=\"apellido\"\r\n                      placeholder=\"Apellido\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.apellido} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"text\" required maxLength=\"50\" name=\"segundo_apellido\"\r\n                      placeholder=\"Segundo Apellido\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.segundo_apellido} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"email\" required maxLength=\"200\" name=\"correo\"\r\n                      placeholder=\"Correo electrnico\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.correo} />\r\n                    <p className='my-muted'>*Escribe el correo al que desea recibir la informacin de los consejos.</p>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" required maxLength=\"20\" name=\"clave\"\r\n                      placeholder=\"Contrasea\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.clave} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" required minLength=\"4\" maxLength=\"20\" name=\"confirmacion\"\r\n                      placeholder=\"Confirme contrasea\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.confirmacion} />\r\n                    <p className='my-muted'>*La contrasea debe tener un largo mnimo de 4 caracteres y tiene un mximo de 20 caracteres.</p>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-4\">Registrarme</button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { myAlert } from '../../helpers/alert';\r\nimport { Loading } from '../../helpers/Loading';\r\nimport DefaultComponent from '../../helpers/DefaultComponent';\r\n\r\nexport default class NuevaClave extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cedula: '',\r\n      nueva: '',\r\n      confirmacion: '',\r\n      invalido: true,\r\n      isLoading: true\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(`/usuario/validar_recuperacion/${this.props.match.params.token}`)\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          this.setState({\r\n            invalido: false,\r\n            isLoading: false,\r\n            cedula: res.data.cedula\r\n          });\r\n        } else {\r\n          this.setState({\r\n            isLoading: false\r\n          })\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.state.nueva === this.state.confirmacion) {\r\n      axios.post('/usuario/cambiar_clave', { clave: this.state.nueva, cedula: this.state.cedula })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            myAlert('xito', 'La contrasea se ha cambiado satisfactoriamente.', 'success');\r\n            this.setState({\r\n              actual: '',\r\n              nueva: '',\r\n              confirmacion: ''\r\n            });\r\n            this.props.history.push('/acceso');\r\n          } else {\r\n            myAlert('Error', 'Error interno del servidor.', 'error');\r\n            this.setState({\r\n              actual: '',\r\n              nueva: '',\r\n              confirmacion: ''\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      myAlert('Verifique', 'La contrasea nueva y su confirmacin son distintas.', 'error');\r\n      this.setState({\r\n        actual: '',\r\n        nueva: '',\r\n        confirmacion: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (this.state.isLoading ? <Loading /> : this.state.invalido ? <DefaultComponent /> :\r\n      <>\r\n        <div className=\"row m-0 my-row\">\r\n          <div className=\"col-md-5 m-auto\">\r\n            <div className=\"card border-primary mb-3\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title text-center mb-4\">Nueva Contrasea</h4>\r\n                <p className=\"my-muted\">La contrasea debe tener un largo mnimo de 4 caracteres.</p>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" autofocus required minLength=\"4\" maxLength=\"20\" name=\"nueva\"\r\n                      placeholder=\"Contrasea nueva\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.nueva} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input type=\"password\" required minLength=\"4\" maxLength=\"20\" name=\"confirmacion\"\r\n                      placeholder=\"Confirme contrasea nueva\" className=\"form-control\"\r\n                      onChange={this.handleInputChange} value={this.state.confirmacion} />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-4\">Guardar</button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport auth from '../../helpers/auth';\r\nimport DefaultComponent from '../../helpers/DefaultComponent';\r\nimport { Loading } from '../../helpers/Loading';\r\nimport './Usuario.css';\r\n\r\nexport default class Usuario extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      cedula: this.props.match.params.cedula,\r\n      usuario: {},\r\n      permisos: new Map(),\r\n      tipos_convocado: [],\r\n      correos: [],\r\n      encontrado: true,\r\n      redirect: false\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleOptionChange = this.handleOptionChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.cedula !== auth.getInfo().cedula) {\r\n      auth.verifyToken()\r\n        .then(value => {\r\n          if (value) {\r\n            axios.get(`/usuario/${this.state.cedula}`)\r\n              .then(user => {\r\n                if (user.data.success) {\r\n                  this.setState({\r\n                    isLoading: false,\r\n                    usuario: user.data.user\r\n                  });\r\n                  axios.get(`/correo/${this.state.cedula}`)\r\n                    .then(emails => {\r\n                      if (emails.data.success) {\r\n                        this.setState({\r\n                          correos: emails.data.emails\r\n                        });\r\n                      }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                  axios.get('/tipo_convocado')\r\n                    .then(res => {\r\n                      if (res.data.success) {\r\n                        this.setState({\r\n                          tipos_convocado: res.data.attendantTypes\r\n                        });\r\n                      }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                  axios.get('/permiso')\r\n                    .then(res => {\r\n                      if (res.data.success) {\r\n                        const permisos = new Map();\r\n                        let permiso = {};\r\n                        for (let i = 0; i < res.data.roles.length; i++) {\r\n                          permiso = res.data.roles[i];\r\n                          permiso.seleccionado = false;\r\n                          permisos.set(permiso.id_permiso, permiso);\r\n                        }\r\n                        axios.get(`/usuario/permisos/${this.state.cedula}`)\r\n                          .then(roles => {\r\n                            if (roles.data.success) {\r\n                              for (let i = 0; i < roles.data.roles.length; i++) {\r\n                                permiso = permisos.get(roles.data.roles[i].id_permiso);\r\n                                permiso.seleccionado = true;\r\n                                permisos.set(permiso.id_permiso, permiso);\r\n                              }\r\n                            }\r\n                            this.setState({\r\n                              permisos: permisos\r\n                            });\r\n                          })\r\n                          .catch((err) => console.log(err));\r\n                      }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                } else {\r\n                  this.setState({\r\n                    isLoading: false,\r\n                    encontrado: false\r\n                  });\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          } else {\r\n            this.setState({\r\n              redirect: true\r\n            })\r\n            auth.logOut();\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      this.setState({\r\n        isLoading: false,\r\n        encontrado: false\r\n      });\r\n    }\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    const name = parseInt(e.target.name);\r\n    const value = e.target.checked;\r\n    let permiso = this.state.permisos.get(name);\r\n    permiso.seleccionado = value;\r\n    this.setState(prevState => ({ permisos: prevState.permisos.set(name, permiso) }));\r\n  }\r\n\r\n  handleOptionChange(e) {\r\n    let usuario = this.state.usuario;\r\n    usuario.id_tipo_convocado = e.target.value;\r\n    this.setState({\r\n      usuario: usuario\r\n    });\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.delete(`/usuario_permiso/${this.state.cedula}`);\r\n      let info = {}\r\n      for (let value of this.state.permisos.values()) {\r\n        if (value.seleccionado) {\r\n          info = {\r\n            id_permiso: value.id_permiso,\r\n            cedula: this.state.cedula\r\n          }\r\n          await axios.post('/usuario_permiso', info);\r\n        }\r\n      }\r\n      await axios.put(`/usuario/convocado/${this.state.cedula}`, { id_tipo_convocado: this.state.usuario.id_tipo_convocado });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    this.props.history.push('/gUsuarios');\r\n  }\r\n\r\n  getEmails() {\r\n    const emails = [];\r\n    for (let i = 0; i < this.state.correos.length; i++) {\r\n      emails.push(<p key={i}>{this.state.correos[i].correo}</p>);\r\n    }\r\n    return emails;\r\n  }\r\n\r\n  checks() {\r\n    const checks = [];\r\n    for (let value of this.state.permisos.values()) {\r\n      checks.push(\r\n        <div className=\"custom-control custom-checkbox\" key={value.id_permiso}>\r\n          <input type=\"checkbox\" className=\"custom-control-input\"\r\n            id={value.nombre} checked={value.seleccionado}\r\n            onChange={this.handleInputChange} name={value.id_permiso} />\r\n          <label className=\"custom-control-label\" htmlFor={value.nombre}>\r\n            {value.nombre}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    return checks;\r\n  }\r\n\r\n  getAttendantType() {\r\n    const tipo_convocado = [];\r\n    for (let i = 0; i < this.state.tipos_convocado.length; i++) {\r\n      let id = this.state.tipos_convocado[i].id_tipo_convocado;\r\n      let descripcion = this.state.tipos_convocado[i].descripcion;\r\n      tipo_convocado.push(\r\n        <option value={id} key={i}>{descripcion}</option>\r\n      );\r\n    }\r\n    return tipo_convocado;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.isLoading ? <Loading /> : this.state.redirect ? <Redirect to='/' /> : !this.state.encontrado ? <DefaultComponent /> :\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0 my-row\">\r\n          <div className=\"col-md-6 m-auto\">\r\n            <div className=\"card border-primary\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title text-center mb-4\">Informacin de {this.state.usuario.nombre} {this.state.usuario.apellido} {this.state.usuario.segundo_apellido}</h4>\r\n                <p>Cdula: {this.state.cedula}</p>\r\n                {this.state.correos.length === 0 ? <p>Este usuario no tiene correos registrados.</p> : <h5>Correos asociados:</h5>}\r\n                {this.getEmails()}\r\n                <hr />\r\n                <h4 className=\"text-center mb-4\">Edicin de permisos asociados</h4>\r\n                <form onSubmit={this.handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    {this.checks()}\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"form-group\">\r\n                    <p className=\"lead\">Se convoca como:</p>\r\n                    <select className=\"custom-select\" value={this.state.usuario.id_tipo_convocado} onChange={this.handleOptionChange}>\r\n                      {this.getAttendantType()}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group d-flex justify-content-around\">\r\n                    <button type=\"submit\" className=\"btn btn-outline-primary my-width mt-2\">Guardar Cambios</button>\r\n                    <Link to='/gUsuarios' className=\"btn btn-outline-secondary my-width mt-2\">Cancelar</Link>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport auth from '../../helpers/auth';\r\nimport { myAlert } from '../../helpers/alert';\r\n\r\nexport default class AdministrarCorreo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      correo: '',\r\n      correos: [],\r\n      redirect: false\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.deleteEmail = this.deleteEmail.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getEmails();\r\n  }\r\n\r\n  getEmails() {\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          const cedula = auth.getInfo().cedula;\r\n          axios.get(`/correo/${cedula}`)\r\n            .then(res => {\r\n              if (res.data.success) {\r\n                this.setState({\r\n                  correos: res.data.emails\r\n                });\r\n              } else {\r\n                this.setState({\r\n                  correos: []\r\n                })\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          });\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  deleteEmail(e, email) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n\r\n          swal({\r\n            title: \"Confirmacin\",\r\n            text: `Se eliminar ${email}`,\r\n            icon: \"warning\",\r\n            buttons: [\"Cancelar\", \"Confirmar\"],\r\n            dangerMode: true,\r\n          })\r\n            .then((willDelete) => {\r\n              if (willDelete) {\r\n                axios.delete('/correo', { data: { correo: email } })\r\n                  .then(() => {\r\n                    this.getEmails();\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              }\r\n            });\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          });\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          axios.post('/correo/verificar_correo', { correo: this.state.correo })\r\n            .then(res => {\r\n              if (!res.data.taken) {\r\n                const cedula = auth.getInfo().cedula;\r\n                axios.post(`/correo/${cedula}`, { correo: this.state.correo })\r\n                  .then(() => {\r\n                    this.getEmails()\r\n                    this.setState({\r\n                      correo: ''\r\n                    })\r\n                  })\r\n                  .catch((err) => console.log(err));\r\n              } else {\r\n                myAlert(\"Atencin\", \"El correo que se digit ya se encuentra registrado en el sistema.\", \"warning\");\r\n\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          });\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  emailsList() {\r\n    const emails = [];\r\n    for (let i = 0; i < this.state.correos.length; i++) {\r\n      const correo = this.state.correos[i].correo;\r\n      emails.push(\r\n        <div className=\"d-flex my-div mx-auto\" key={i}>\r\n          <div className=\"my-email2 mx-auto special-border\">{correo}</div>\r\n          <button className=\"fas fa-trash-alt my-icon fa-lg my-auto my-button\" type=\"button\" onClick={(e) => this.deleteEmail(e, correo)} />\r\n        </div>\r\n      );\r\n    }\r\n    return emails;\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      // <div className=\"container especial\">\r\n      <>\r\n        <h4 className=\"mb-4 text-center\">Administracin de Correos</h4>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"d-flex my-div mx-auto justify-content-between\">\r\n            <div className=\"form-group my-email m-auto d-block\">\r\n              <input type=\"email\" required maxLength=\"200\" name=\"correo\"\r\n                placeholder=\"Nuevo correo\" autoComplete=\"off\" className=\"form-control\"\r\n                onChange={this.handleInputChange} value={this.state.correo} />\r\n            </div>\r\n            <div className=\"form-group my-auto d-block\">\r\n              <button className=\"fas fa-save my-icon fa-lg my-button\" type=\"submit\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n        {this.state.correos.length === 0 &&\r\n          <div className=\"my-div mx-auto\">\r\n            <p className=\"my-muted\">Registre al menos un correo, no podr recuperar su contrasea sin un correo asociado a su cuenta ni recibir actualizaciones de consejos.</p>\r\n          </div>\r\n        }\r\n        <div className=\"email-container\">\r\n          {this.emailsList()}\r\n        </div>\r\n      </>\r\n      // </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport auth from '../../helpers/auth';\r\nimport { myAlert } from '../../helpers/alert';\r\n\r\nexport default class CambioClave extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      actual: '',\r\n      nueva: '',\r\n      confirmacion: '',\r\n      redirect: false\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    auth.verifyToken()\r\n      .then(value => {\r\n        if (value) {\r\n          if (this.state.nueva === this.state.confirmacion) {\r\n            const user = {\r\n              cedula: auth.getInfo().cedula,\r\n              clave: this.state.actual\r\n            }\r\n            axios.post('/usuario/verificar_clave', user)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  axios.post('/usuario/cambiar_clave', { clave: this.state.nueva, cedula: auth.getInfo().cedula })\r\n                    .then(res => {\r\n                      if (res.data.success) {\r\n                        myAlert('xito', 'La contrasea se ha cambiado satisfactoriamente.', 'success');\r\n                        this.setState({\r\n                          actual: '',\r\n                          nueva: '',\r\n                          confirmacion: ''\r\n                        });\r\n                      } else {\r\n                        myAlert('Oh no!', 'Error interno del servidor.', 'error');\r\n                        this.setState({\r\n                          actual: '',\r\n                          nueva: '',\r\n                          confirmacion: ''\r\n                        });\r\n                      }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n                } else {\r\n                  myAlert('Verifique', 'La contrasea actual no coincide con nuestros registros.', 'error');\r\n                  this.setState({\r\n                    actual: '',\r\n                    nueva: '',\r\n                    confirmacion: ''\r\n                  });\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          } else {\r\n            myAlert('Verifique', 'La contrasea nueva y su confirmacin son distintas.', 'error');\r\n            this.setState({\r\n              actual: '',\r\n              nueva: '',\r\n              confirmacion: ''\r\n            });\r\n          }\r\n        } else {\r\n          this.setState({\r\n            redirect: true\r\n          });\r\n          auth.logOut();\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (this.state.redirect ? <Redirect to='/' /> :\r\n      <>\r\n        <h4 className=\"text-center mb-4\">Cambio de Contrasea</h4>\r\n        <p className=\"my-muted\">La contrasea debe tener un largo mnimo de 4 caracteres.</p>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <input type=\"password\" required maxLength=\"20\" name=\"actual\"\r\n              placeholder=\"Contrasea actual\" className=\"form-control\"\r\n              autoFocus onChange={this.handleInputChange} value={this.state.actual} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"password\" required minLength=\"4\" maxLength=\"20\" name=\"nueva\"\r\n              placeholder=\"Contrasea nueva\" className=\"form-control\"\r\n              onChange={this.handleInputChange} value={this.state.nueva} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input type=\"password\" required minLength=\"4\" maxLength=\"20\" name=\"confirmacion\"\r\n              placeholder=\"Confirme contrasea nueva\" className=\"form-control\"\r\n              onChange={this.handleInputChange} value={this.state.confirmacion} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <button type=\"submit\" className=\"btn btn-outline-primary btn-block mt-4\">Guardar</button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Navegacion from '../Navegacion/Navegacion';\r\nimport AdministrarCorreo from './AdministrarCorreo';\r\nimport CambioClave from './CambioClave';\r\nimport auth from '../../helpers/auth';\r\nimport './Cuenta.css';\r\n\r\nexport default class Cuenta extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const info = auth.getInfo();\r\n    this.state = {\r\n      cedula: info.cedula,\r\n      nombre: info.nombre,\r\n      apellido: info.apellido,\r\n      segundo_apellido: info.segundo_apellido\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Navegacion />\r\n        <div className=\"row m-0 my-row\">\r\n          <div className=\"col-md-5 mx-auto\">\r\n            <div className=\"card border-primary\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title text-center mb-4\">Mi Informacin</h4>\r\n                <p>Cdula: {this.state.cedula}</p>\r\n                <p>Nombre: {this.state.nombre}</p>\r\n                <p>Apellidos: {this.state.apellido} {this.state.segundo_apellido}</p>\r\n                <hr />\r\n                <CambioClave />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-7 h-auto especial\">\r\n            <AdministrarCorreo />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}","export const Role = {\r\n  CouncilModifier: 'CouncilModifier',\r\n  UserModifier: 'UserModifier'\r\n}","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport auth from './auth';\r\nimport roles from './roles';\r\nimport { Role } from './Role';\r\nimport { Loading } from './Loading';\r\n\r\nexport default class ProtectedRoute extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      isAuthentic: false,\r\n      isCouncilModifier: false,\r\n      isUserModifier: false\r\n    }\r\n\r\n    auth.verifyToken()\r\n      .then(res => {\r\n        if (res) {\r\n          roles.checkRoles()\r\n            .then(() => {\r\n              if (roles.isUserModifier()) {\r\n                this.setState({\r\n                  isUserModifier: true\r\n                });\r\n              }\r\n              if (roles.isCouncilModifier()) {\r\n                this.setState({\r\n                  isCouncilModifier: true\r\n                });\r\n              }\r\n              this.setState({\r\n                isLoading: false,\r\n                isAuthentic: true\r\n              });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({\r\n            isLoading: false\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLoading) {\r\n      return <Loading />;\r\n    }\r\n    if (this.state.isAuthentic) {\r\n      if (this.props.role === Role.UserModifier) {\r\n        if (this.state.isUserModifier) {\r\n          return <Route path={this.props.path} component={this.props.component} />;\r\n        }\r\n        return <Redirect to='/consejos' />;\r\n      }\r\n      if (this.props.role === Role.CouncilModifier) {\r\n        if (this.state.isCouncilModifier) {\r\n          return <Route path={this.props.path} component={this.props.component} />;\r\n        }\r\n        return <Redirect to='/consejos' />;\r\n      }\r\n      return <Route path={this.props.path} component={this.props.component} />;\r\n    }\r\n    return <Redirect to='/acceso' />;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport Acceso from './components/Acceso/Acceso';\r\nimport Inicio from './components/Inicio/Inicio';\r\nimport Consejos from './components/Consejos/Consejos';\r\nimport Consejo from './components/Consejos/Consejo';\r\nimport RegistroConsejos from './components/Consejos/RegistroConsejos';\r\nimport Convocar from './components/Consejos/Convocar';\r\nimport VisualizarConsejos from './components/Consejos/VisualizarConsejos';\r\nimport VisualizarConsejosUsuario from './components/Consejos/VisualizarConsejosUsuario';\r\nimport EditarConsejo from './components/Consejos/EditarConsejo';\r\nimport ConsejoVotacion from './components/Consejos/ConsejoVotacion';\r\nimport ListaUsuarios from './components/Usuarios/ListaUsuarios';\r\nimport Registro from './components/Usuarios/Registro';\r\nimport NuevaClave from './components/Usuarios/NuevaClave';\r\nimport Usuario from './components/Usuarios/Usuario';\r\nimport Cuenta from './components/Cuenta/Cuenta';\r\nimport ProtectedRoute from './helpers/ProtectedRoute';\r\nimport DefaultComponent from './helpers/DefaultComponent';\r\nimport { Role } from './helpers/Role';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path='/gUsuarios/registro/:token' component={Registro} />\r\n        <Route path='/gUsuarios/cambioClave/:token' component={NuevaClave} />\r\n        <ProtectedRoute path='/gConsejos/registro' role={Role.CouncilModifier} component={RegistroConsejos} />\r\n        <ProtectedRoute path='/gConsejos/participantes/:consecutivo' role={Role.CouncilModifier} component={Convocar} />\r\n        <ProtectedRoute path='/gConsejos/editar/:consecutivo' role={Role.CouncilModifier} component={EditarConsejo} />\r\n        <ProtectedRoute path='/gConsejos/:consecutivo' role={Role.CouncilModifier} component={ConsejoVotacion} />\r\n        <ProtectedRoute path='/gConsejos' role={Role.CouncilModifier} component={VisualizarConsejos} />\r\n        <ProtectedRoute path='/gUsuarios/:cedula' exact role={Role.UserModifier} component={Usuario} />\r\n        <ProtectedRoute path='/gUsuarios' exact role={Role.UserModifier} component={ListaUsuarios} />\r\n        <ProtectedRoute path='/consejos/:consecutivo' component={Consejo} />\r\n        <ProtectedRoute path='/consejos' component={Consejos} />\r\n        <ProtectedRoute path='/proximosconsejos/:consecutivo' component={Consejo} />\r\n        <ProtectedRoute path='/proximosconsejos' component={VisualizarConsejosUsuario} />\r\n        <ProtectedRoute path='/cuenta' component={Cuenta} />\r\n        <Route path='/acceso' component={Acceso} />\r\n        <Route exact path='/' component={Inicio} />\r\n        <Route path='*' component={DefaultComponent} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}